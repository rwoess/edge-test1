"use strict";(self.webpackChunklot_com=self.webpackChunklot_com||[]).push([[49749],{49749:(U,s,t)=>{t.r(s),t.d(s,{ManageMyBookingComponent:()=>A,ManageMyBookingEditConfig:()=>F});var _=t(36895),r=t(24006),g=t(58970),n=t(94650),d=t(58061),u=t(4859),m=t(59549),M=t(44144),f=t(12687),p=t(47499),h=t(7863),x=t(63924),k=t(44553),b=t(89650);function B(o,a){if(1&o&&n._UZ(0,"lot-title",10),2&o){const e=n.oxw(2);n.Tol(e.alignmentClass),n.Q6J("headingTag",e.header.headerClass)("headingClass",e.header.headerStyling)("label",e.header.text)("align",e.align)}}function y(o,a){if(1&o&&(n.TgZ(0,"p"),n._uU(1),n.qZA()),2&o){const e=n.oxw(2);n.xp6(1),n.Oqu(e.header.description)}}function C(o,a){if(1&o&&(n.ynx(0),n.TgZ(1,"p"),n._uU(2),n.qZA(),n.BQk()),2&o){const e=n.oxw(2);n.xp6(2),n.Oqu(e.errors.onlyAlphanumeric)}}function O(o,a){if(1&o&&(n.ynx(0),n.TgZ(1,"p"),n._uU(2),n.qZA(),n.BQk()),2&o){const e=n.oxw(2);n.xp6(2),n.Oqu(e.errors.invalidNumberOfCharacters)}}function v(o,a){if(1&o&&(n.ynx(0),n.TgZ(1,"p"),n._uU(2),n.qZA(),n.BQk()),2&o){const e=n.oxw(2);n.xp6(2),n.Oqu(e.errors.requiredField)}}function P(o,a){if(1&o&&(n.ynx(0),n.TgZ(1,"p"),n._uU(2),n.qZA(),n.BQk()),2&o){const e=n.oxw(2);n.xp6(2),n.Oqu(e.errors.requiredField)}}function E(o,a){if(1&o&&(n.ynx(0),n.TgZ(1,"p"),n._uU(2),n.qZA(),n.BQk()),2&o){const e=n.oxw(2);n.xp6(2),n.Oqu(e.errors.onlyLetters)}}const c=function(o,a){return{"manage-my-booking__form-field--outside-of-booker":o,"white-border":a}},T=function(o){return{"manage-my-booking__button--outside-of-booker":o}};function I(o,a){if(1&o){const e=n.EpF();n.ynx(0),n.TgZ(1,"div")(2,"h2",1),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.YNc(5,B,1,7,"lot-title",2),n.YNc(6,y,2,1,"p",0),n.qZA(),n.TgZ(7,"form",3),n.NdJ("ngSubmit",function(){n.CHM(e);const l=n.oxw();return n.KtG(l.onMMBSubmit())}),n.TgZ(8,"mat-form-field",4),n._UZ(9,"input",5),n.TgZ(10,"mat-label"),n._uU(11),n.qZA(),n.TgZ(12,"mat-error"),n.YNc(13,C,3,1,"ng-container",0),n.YNc(14,O,3,1,"ng-container",0),n.YNc(15,v,3,1,"ng-container",0),n.qZA()(),n.TgZ(16,"mat-form-field",4),n._UZ(17,"input",6),n.TgZ(18,"mat-label"),n._uU(19),n.qZA(),n.TgZ(20,"mat-error"),n.YNc(21,P,3,1,"ng-container",0),n.YNc(22,E,3,1,"ng-container",0),n.qZA()(),n.TgZ(23,"button",7),n._uU(24),n.TgZ(25,"span",8),n._uU(26),n.qZA()(),n.TgZ(27,"span",9),n._uU(28),n.ALo(29,"translate"),n.qZA()(),n.BQk()}if(2&o){const e=n.oxw();n.xp6(1),n.Gre("manage-my-booking__header ",e.alignmentClass,""),n.xp6(2),n.hij(" ",n.lcZ(4,22,"Manage my booking")," "),n.xp6(2),n.Q6J("ngIf",e.header&&e.header.text&&!e.componentInBooker),n.xp6(1),n.Q6J("ngIf",e.header&&e.header.description),n.xp6(1),n.Q6J("formGroup",e.MMBForm),n.xp6(1),n.Q6J("ngClass",n.WLB(26,c,!e.componentInBooker,e.componentInBooker)),n.xp6(1),n.Q6J("placeholder",e.bookingReference.placeholder),n.xp6(2),n.Oqu(e.bookingReference.label),n.xp6(2),n.Q6J("ngIf",null==e.MMBForm.controls.bookingReferenceField.errors?null:e.MMBForm.controls.bookingReferenceField.errors.pattern),n.xp6(1),n.Q6J("ngIf",!(null!=e.MMBForm.controls.bookingReferenceField.errors&&e.MMBForm.controls.bookingReferenceField.errors.pattern)&&((null==e.MMBForm.controls.bookingReferenceField.errors?null:e.MMBForm.controls.bookingReferenceField.errors.maxlength)||(null==e.MMBForm.controls.bookingReferenceField.errors?null:e.MMBForm.controls.bookingReferenceField.errors.minlength))),n.xp6(1),n.Q6J("ngIf",null==e.MMBForm.controls.bookingReferenceField.errors?null:e.MMBForm.controls.bookingReferenceField.errors.required),n.xp6(1),n.Q6J("ngClass",n.WLB(29,c,!e.componentInBooker,e.componentInBooker)),n.xp6(1),n.Q6J("placeholder",e.lastName.placeholder),n.xp6(2),n.Oqu(e.lastName.label),n.xp6(2),n.Q6J("ngIf",null==e.MMBForm.controls.lastNameField.errors?null:e.MMBForm.controls.lastNameField.errors.required),n.xp6(1),n.Q6J("ngIf",null==e.MMBForm.controls.lastNameField.errors?null:e.MMBForm.controls.lastNameField.errors.pattern),n.xp6(1),n.Q6J("ngClass",n.VKq(32,T,!e.componentInBooker)),n.xp6(1),n.hij(" ",e.link.label," "),n.xp6(2),n.Oqu(e.link.screenReaderDescription),n.xp6(2),n.Oqu(n.lcZ(29,24,"* required fields"))}}const F={label:"Manage my booking",isEmpty:()=>!1};let A=(()=>{class o{constructor(e,i,l,R,Z,L){this.document=e,this.formBuilder=i,this.MMBService=l,this.visibilityService=R,this.MMBSearchParamsUpdateService=Z,this.ibeFlowIdService=L,this.MMBForm=this.formBuilder.group({bookingReferenceField:["",{validators:[r.kI.required,r.kI.pattern(g.Sfs.ONLY_ALPHANUMERIC),r.kI.minLength(6),r.kI.maxLength(6)]}],lastNameField:["",{validators:[r.kI.required,r.kI.pattern(g.Sfs.ONLY_LETTERS)]}]})}shouldRender(){return this.visibilityService.shouldRenderIndra()}onMMBSubmit(){if(this.MMBForm.valid){const e=JSON.stringify(this.MMBForm.value);sessionStorage.setItem(g.cf6.MMB_PARAMS,e),this.MMBSearchParamsUpdateService.updateMMBSearchParams(),this.ibeFlowIdService.resetIbeFlowId(),this.MMBService.makeRequest(this.MMBForm.value).subscribe(i=>{i.url?"_self"===this.link.target?this.document.location.href=i.url:window.open(i.url,"_blank")?.focus():this.document.location.reload()},i=>{i.error.url?this.document.location.href=i.error.url:this.document.location.reload()})}}get alignmentClass(){return"manage-my-booking__header--"+this.header?.contentAlignment}get align(){return"centered"===this.header?.contentAlignment?"center":this.header?.contentAlignment||"left"}static#n=this.\u0275fac=function(i){return new(i||o)(n.Y36(_.K0),n.Y36(r.qu),n.Y36(g.mvx),n.Y36(d.P),n.Y36(g.bmN),n.Y36(g.Ugx))};static#e=this.\u0275cmp=n.Xpm({type:o,selectors:[["lot-manage-my-booking"]],hostVars:1,hostBindings:function(i,l){2&i&&n.Ikx("id",l.id)},inputs:{header:"header",bookingReference:"bookingReference",lastName:"lastName",link:"link",errors:"errors",componentInBooker:"componentInBooker",id:"id"},decls:1,vars:1,consts:[[4,"ngIf"],["id","manage-my-booking",1,"cdk-visually-hidden"],[3,"class","headingTag","headingClass","label","align",4,"ngIf"],["lotFocusInvalidControl","",1,"manage-my-booking",3,"formGroup","ngSubmit"],[1,"manage-my-booking__form-field",3,"ngClass"],["formControlName","bookingReferenceField","maxlength","6","spellcheck","false","lotTrimControlSpaces","","matInput","","required","",3,"placeholder"],["formControlName","lastNameField","spellcheck","false","autocomplete","family-name","lotTrimControlSpaces","","matInput","","required","",3,"placeholder"],["mat-raised-button","","cdkMonitorElementFocus","","type","submit",1,"manage-my-booking__button","mat-primary-accent",3,"ngClass"],[1,"cdk-visually-hidden"],["aria-hidden","true",1,"cdk-visually-hidden"],[3,"headingTag","headingClass","label","align"]],template:function(i,l){1&i&&n.YNc(0,I,30,34,"ng-container",0),2&i&&n.Q6J("ngIf",l.shouldRender())},dependencies:[_.mk,_.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,u.lW,m.KE,m.hX,m.TO,M.Nt,f.kH,p.u,h.k,x.X,k.r,b.X$],styles:["[_nghost-%COMP%]:not(:empty){display:block;padding-top:36px;padding-bottom:21px;margin-left:calc(var(--grid-gutter-width) / 2);margin-right:calc(var(--grid-gutter-width) / 2)}.manage-my-booking[_ngcontent-%COMP%]{align-items:flex-start;justify-content:flex-end;display:inline-flex;flex-wrap:wrap;margin:-12px 0 0 -12px;width:calc(100% + 12px)}.manage-my-booking[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:12px 0 0 12px}.manage-my-booking__header[_ngcontent-%COMP%]   lot-title[_ngcontent-%COMP%]{margin-left:0}.manage-my-booking__header--left[_ngcontent-%COMP%]{text-align:left}.manage-my-booking__header--centered[_ngcontent-%COMP%]{text-align:center}.manage-my-booking__header--right[_ngcontent-%COMP%]{text-align:right;margin-right:0}.manage-my-booking__form-field[_ngcontent-%COMP%]{flex-grow:1;min-width:250px}.manage-my-booking__form-field.mat-form-field-invalid[_ngcontent-%COMP%]{margin-bottom:1.25rem}@media (min-width: 1024px){.manage-my-booking__form-field.mat-form-field-invalid[_ngcontent-%COMP%]{margin-bottom:1.625rem}}.manage-my-booking__form-field--outside-of-booker[_ngcontent-%COMP%]{width:100%!important}@media (min-width: 1024px){.manage-my-booking__form-field--outside-of-booker[_ngcontent-%COMP%]{width:30%!important}}.manage-my-booking__button[_ngcontent-%COMP%]{min-width:112px;height:60px;font: 400 18px/18px LotGeomanist,LotLato,Helvetica,Arial,sans-serif}.manage-my-booking__button--outside-of-booker[_ngcontent-%COMP%]{flex-grow:1;min-width:210px;font: 400 18px/18px LotGeomanist,LotLato,Helvetica,Arial,sans-serif}@media (min-width: 1024px){.manage-my-booking__button--outside-of-booker[_ngcontent-%COMP%]{font: 400 12px/12px LotGeomanist,LotLato,Helvetica,Arial,sans-serif;height:60px!important;margin-bottom:40px!important}}@media (max-width: 1023.98px){.manage-my-booking__button[_ngcontent-%COMP%]{flex-grow:1}}@media (min-width: 768px){.manage-my-booking__button[_ngcontent-%COMP%]{border:none;height:60px}}"]})}return o})()}}]);
(self.webpackChunklot_com=self.webpackChunklot_com||[]).push([[9807],{9807:(oe,Z,b)=>{"use strict";b.r(Z),b.d(Z,{Auth:()=>bt,AuthErrorStrings:()=>de,CognitoHostedUIIdentityProvider:()=>F,CognitoUser:()=>it,CookieStorage:()=>Ot,GRAPHQL_AUTH_MODE:()=>p,appendToCognitoUserAgent:()=>ln,default:()=>Ln});var F=(()=>{return(o=F||(F={})).Cognito="COGNITO",o.Google="Google",o.Facebook="Facebook",o.Amazon="LoginWithAmazon",o.Apple="SignInWithApple",F;var o})();function W(o){return o&&!!["provider"].find(function(n){return o.hasOwnProperty(n)})}function Y(o){return void 0!==o.redirectSignIn}var he,A=(()=>{return(o=A||(A={})).NoConfig="noConfig",o.MissingAuthConfig="missingAuthConfig",o.EmptyUsername="emptyUsername",o.InvalidUsername="invalidUsername",o.EmptyPassword="emptyPassword",o.EmptyCode="emptyCode",o.SignUpError="signUpError",o.NoMFA="noMFA",o.InvalidMFA="invalidMFA",o.EmptyChallengeResponse="emptyChallengeResponse",o.NoUserSession="noUserSession",o.Default="default",o.DeviceConfig="deviceConfig",o.NetworkError="networkError",o.AutoSignInError="autoSignInError",A;var o})(),p=(()=>{return(o=p||(p={})).API_KEY="API_KEY",o.AWS_IAM="AWS_IAM",o.OPENID_CONNECT="OPENID_CONNECT",o.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",o.AWS_LAMBDA="AWS_LAMBDA",p;var o})(),O=b(84718),_=b(60281),V=b(50560),M=b(33287),E=b(9822),T=b(9377),R=b(87556),j=b(82503),z=b(16699),w=function(){function o(n){var t=n||{},i=t.Username,u=t.Password,c=t.AuthParameters,d=t.ClientMetadata;this.validationData=t.ValidationData||{},this.authParameters=c||{},this.clientMetadata=d||{},this.username=i,this.password=u}var e=o.prototype;return e.getUsername=function(){return this.username},e.getPassword=function(){return this.password},e.getValidationData=function(){return this.validationData},e.getAuthParameters=function(){return this.authParameters},e.getClientMetadata=function(){return this.clientMetadata},o}(),C=b(93172),G=b(67585),B=b.n(G),Q=(b(27412),b(31817)),Ae=b.n(Q),ye=b(96135),ge=b.n(ye);if(typeof window<"u"&&window.crypto&&(he=window.crypto),!he&&typeof window<"u"&&window.msCrypto&&(he=window.msCrypto),!he&&typeof global<"u"&&global.crypto&&(he=global.crypto),!he)try{he=b(56249)}catch{}function _e(){if(he){if("function"==typeof he.getRandomValues)try{return he.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof he.randomBytes)try{return he.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}var Je=function(){function o(n,t){n=this.words=n||[],this.sigBytes=null!=t?t:4*n.length}var e=o.prototype;return e.random=function(t){for(var r=[],i=0;i<t;i+=4)r.push(_e());return new o(r,t)},e.toString=function(){return function Ge(o){for(var e=o.words,n=o.sigBytes,t=[],r=0;r<n;r++){var i=e[r>>>2]>>>24-r%4*8&255;t.push((i>>>4).toString(16)),t.push((15&i).toString(16))}return t.join("")}(this)},o}();const ue=L;function L(o,e){null!=o&&this.fromString(o,e)}function le(){return new L(null)}var Te,xe=typeof navigator<"u";xe&&"Microsoft Internet Explorer"==navigator.appName?(L.prototype.am=function fe(o,e,n,t,r,i){for(var u=32767&e,c=e>>15;--i>=0;){var d=32767&this[o],h=this[o++]>>15,g=c*d+h*u;r=((d=u*d+((32767&g)<<15)+n[t]+(1073741823&r))>>>30)+(g>>>15)+c*h+(r>>>30),n[t++]=1073741823&d}return r},Te=30):xe&&"Netscape"!=navigator.appName?(L.prototype.am=function gt(o,e,n,t,r,i){for(;--i>=0;){var u=e*this[o++]+n[t]+r;r=Math.floor(u/67108864),n[t++]=67108863&u}return r},Te=26):(L.prototype.am=function we(o,e,n,t,r,i){for(var u=16383&e,c=e>>14;--i>=0;){var d=16383&this[o],h=this[o++]>>14,g=c*d+h*u;r=((d=u*d+((16383&g)<<14)+n[t]+r)>>28)+(g>>14)+c*h,n[t++]=268435455&d}return r},Te=28),L.prototype.DB=Te,L.prototype.DM=(1<<Te)-1,L.prototype.DV=1<<Te,L.prototype.FV=Math.pow(2,52),L.prototype.F1=52-Te,L.prototype.F2=2*Te-52;var Pe,Ce,$e="0123456789abcdefghijklmnopqrstuvwxyz",Me=new Array;for(Pe="0".charCodeAt(0),Ce=0;Ce<=9;++Ce)Me[Pe++]=Ce;for(Pe="a".charCodeAt(0),Ce=10;Ce<36;++Ce)Me[Pe++]=Ce;for(Pe="A".charCodeAt(0),Ce=10;Ce<36;++Ce)Me[Pe++]=Ce;function et(o){return $e.charAt(o)}function pt(o,e){return Me[o.charCodeAt(e)]??-1}function ze(o){var e=le();return e.fromInt(o),e}function a(o){var n,e=1;return 0!=(n=o>>>16)&&(o=n,e+=16),0!=(n=o>>8)&&(o=n,e+=8),0!=(n=o>>4)&&(o=n,e+=4),0!=(n=o>>2)&&(o=n,e+=2),0!=(n=o>>1)&&(o=n,e+=1),e}function He(o){this.m=o,this.mp=o.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<o.DB-15)-1,this.mt2=2*o.t}function wt(o){return C.lW.from((new Je).random(o).toString(),"hex")}He.prototype.convert=function Gt(o){var e=le();return o.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),o.s<0&&e.compareTo(L.ZERO)>0&&this.m.subTo(e,e),e},He.prototype.revert=function Jt(o){var e=le();return o.copyTo(e),this.reduce(e),e},He.prototype.reduce=function zt(o){for(;o.t<=this.mt2;)o[o.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&o[e],t=n*this.mpl+((n*this.mph+(o[e]>>15)*this.mpl&this.um)<<15)&o.DM;for(o[n=e+this.m.t]+=this.m.am(0,t,o,e,0,this.m.t);o[n]>=o.DV;)o[n]-=o.DV,o[++n]++}o.clamp(),o.drShiftTo(this.m.t,o),o.compareTo(this.m)>=0&&o.subTo(this.m,o)},He.prototype.mulTo=function Zt(o,e,n){o.multiplyTo(e,n),this.reduce(n)},He.prototype.sqrTo=function Xt(o,e){o.squareTo(e),this.reduce(e)},L.prototype.copyTo=function vt(o){for(var e=this.t-1;e>=0;--e)o[e]=this[e];o.t=this.t,o.s=this.s},L.prototype.fromInt=function Ve(o){this.t=1,this.s=o<0?-1:0,o>0?this[0]=o:o<-1?this[0]=o+this.DV:this.t=0},L.prototype.fromString=function mt(o,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var t=o.length,r=!1,i=0;--t>=0;){var u=pt(o,t);u<0?"-"==o.charAt(t)&&(r=!0):(r=!1,0==i?this[this.t++]=u:i+n>this.DB?(this[this.t-1]|=(u&(1<<this.DB-i)-1)<<i,this[this.t++]=u>>this.DB-i):this[this.t-1]|=u<<i,(i+=n)>=this.DB&&(i-=this.DB))}this.clamp(),r&&L.ZERO.subTo(this,this)},L.prototype.clamp=function tt(){for(var o=this.s&this.DM;this.t>0&&this[this.t-1]==o;)--this.t},L.prototype.dlShiftTo=function v(o,e){var n;for(n=this.t-1;n>=0;--n)e[n+o]=this[n];for(n=o-1;n>=0;--n)e[n]=0;e.t=this.t+o,e.s=this.s},L.prototype.drShiftTo=function S(o,e){for(var n=o;n<this.t;++n)e[n-o]=this[n];e.t=Math.max(this.t-o,0),e.s=this.s},L.prototype.lShiftTo=function I(o,e){var c,n=o%this.DB,t=this.DB-n,r=(1<<t)-1,i=Math.floor(o/this.DB),u=this.s<<n&this.DM;for(c=this.t-1;c>=0;--c)e[c+i+1]=this[c]>>t|u,u=(this[c]&r)<<n;for(c=i-1;c>=0;--c)e[c]=0;e[i]=u,e.t=this.t+i+1,e.s=this.s,e.clamp()},L.prototype.rShiftTo=function X(o,e){e.s=this.s;var n=Math.floor(o/this.DB);if(n>=this.t)e.t=0;else{var t=o%this.DB,r=this.DB-t,i=(1<<t)-1;e[0]=this[n]>>t;for(var u=n+1;u<this.t;++u)e[u-n-1]|=(this[u]&i)<<r,e[u-n]=this[u]>>t;t>0&&(e[this.t-n-1]|=(this.s&i)<<r),e.t=this.t-n,e.clamp()}},L.prototype.subTo=function te(o,e){for(var n=0,t=0,r=Math.min(o.t,this.t);n<r;)t+=this[n]-o[n],e[n++]=t&this.DM,t>>=this.DB;if(o.t<this.t){for(t-=o.s;n<this.t;)t+=this[n],e[n++]=t&this.DM,t>>=this.DB;t+=this.s}else{for(t+=this.s;n<o.t;)t-=o[n],e[n++]=t&this.DM,t>>=this.DB;t-=o.s}e.s=t<0?-1:0,t<-1?e[n++]=this.DV+t:t>0&&(e[n++]=t),e.t=n,e.clamp()},L.prototype.multiplyTo=function se(o,e){var n=this.abs(),t=o.abs(),r=n.t;for(e.t=r+t.t;--r>=0;)e[r]=0;for(r=0;r<t.t;++r)e[r+n.t]=n.am(0,t[r],e,r,0,n.t);e.s=0,e.clamp(),this.s!=o.s&&L.ZERO.subTo(e,e)},L.prototype.squareTo=function pe(o){for(var e=this.abs(),n=o.t=2*e.t;--n>=0;)o[n]=0;for(n=0;n<e.t-1;++n){var t=e.am(n,e[n],o,2*n,0,1);(o[n+e.t]+=e.am(n+1,2*e[n],o,2*n+1,t,e.t-n-1))>=e.DV&&(o[n+e.t]-=e.DV,o[n+e.t+1]=1)}o.t>0&&(o[o.t-1]+=e.am(n,e[n],o,2*n,0,1)),o.s=0,o.clamp()},L.prototype.divRemTo=function ce(o,e,n){var t=o.abs();if(!(t.t<=0)){var r=this.abs();if(r.t<t.t)return e?.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=le());var i=le(),u=this.s,c=o.s,d=this.DB-a(t[t.t-1]);d>0?(t.lShiftTo(d,i),r.lShiftTo(d,n)):(t.copyTo(i),r.copyTo(n));var h=i.t,g=i[h-1];if(0!=g){var m=g*(1<<this.F1)+(h>1?i[h-2]>>this.F2:0),y=this.FV/m,P=(1<<this.F1)/m,D=1<<this.F2,N=n.t,H=N-h,k=e??le();for(i.dlShiftTo(H,k),n.compareTo(k)>=0&&(n[n.t++]=1,n.subTo(k,n)),L.ONE.dlShiftTo(h,k),k.subTo(i,i);i.t<h;)i[i.t++]=0;for(;--H>=0;){var J=n[--N]==g?this.DM:Math.floor(n[N]*y+(n[N-1]+D)*P);if((n[N]+=i.am(0,J,n,H,0,h))<J)for(i.dlShiftTo(H,k),n.subTo(k,n);n[N]<--J;)n.subTo(k,n)}null!=e&&(n.drShiftTo(h,e),u!=c&&L.ZERO.subTo(e,e)),n.t=h,n.clamp(),d>0&&n.rShiftTo(d,n),u<0&&L.ZERO.subTo(n,n)}}},L.prototype.invDigit=function nt(){if(this.t<1)return 0;var o=this[0];if(!(1&o))return 0;var e=3&o;return(e=(e=(e=(e=e*(2-(15&o)*e)&15)*(2-(255&o)*e)&255)*(2-((65535&o)*e&65535))&65535)*(2-o*e%this.DV)%this.DV)>0?this.DV-e:-e},L.prototype.addTo=function Lt(o,e){for(var n=0,t=0,r=Math.min(o.t,this.t);n<r;)t+=this[n]+o[n],e[n++]=t&this.DM,t>>=this.DB;if(o.t<this.t){for(t+=o.s;n<this.t;)t+=this[n],e[n++]=t&this.DM,t>>=this.DB;t+=this.s}else{for(t+=this.s;n<o.t;)t+=o[n],e[n++]=t&this.DM,t>>=this.DB;t+=o.s}e.s=t<0?-1:0,t>0?e[n++]=t:t<-1&&(e[n++]=this.DV+t),e.t=n,e.clamp()},L.prototype.toString=function We(o){if(this.s<0)return"-"+this.negate().toString(o);var e;if(16==o)e=4;else if(8==o)e=3;else if(2==o)e=1;else if(32==o)e=5;else{if(4!=o)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");e=2}var t,n=(1<<e)-1,r=!1,i="",u=this.t,c=this.DB-u*this.DB%e;if(u-- >0)for(c<this.DB&&(t=this[u]>>c)>0&&(r=!0,i=et(t));u>=0;)c<e?(t=(this[u]&(1<<c)-1)<<e-c,t|=this[--u]>>(c+=this.DB-e)):(t=this[u]>>(c-=e)&n,c<=0&&(c+=this.DB,--u)),t>0&&(r=!0),r&&(i+=et(t));return r?i:"0"},L.prototype.negate=function yt(){var o=le();return L.ZERO.subTo(this,o),o},L.prototype.abs=function f(){return this.s<0?this.negate():this},L.prototype.compareTo=function s(o){var e=this.s-o.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-o.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-o[n]))return e;return 0},L.prototype.bitLength=function l(){return this.t<=0?0:this.DB*(this.t-1)+a(this[this.t-1]^this.s&this.DM)},L.prototype.mod=function Le(o){var e=le();return this.abs().divRemTo(o,null,e),this.s<0&&e.compareTo(L.ZERO)>0&&o.subTo(e,e),e},L.prototype.equals=function rt(o){return 0==this.compareTo(o)},L.prototype.add=function Ht(o){var e=le();return this.addTo(o,e),e},L.prototype.subtract=function jt(o){var e=le();return this.subTo(o,e),e},L.prototype.multiply=function qt(o){var e=le();return this.multiplyTo(o,e),e},L.prototype.divide=function Yt(o){var e=le();return this.divRemTo(o,e,null),e},L.prototype.modPow=function Qt(o,e,n){var r,t=o.bitLength(),i=ze(1),u=new He(e);if(t<=0)return i;r=t<18?1:t<48?3:t<144?4:t<768?5:6;var c=new Array,d=3,h=r-1,g=(1<<r)-1;if(c[1]=u.convert(this),r>1){var m=le();for(u.sqrTo(c[1],m);d<=g;)c[d]=le(),u.mulTo(m,c[d-2],c[d]),d+=2}var P,H,y=o.t-1,D=!0,N=le();for(t=a(o[y])-1;y>=0;){for(t>=h?P=o[y]>>t-h&g:(P=(o[y]&(1<<t+1)-1)<<h-t,y>0&&(P|=o[y-1]>>this.DB+t-h)),d=r;!(1&P);)P>>=1,--d;if((t-=d)<0&&(t+=this.DB,--y),D)c[P].copyTo(i),D=!1;else{for(;d>1;)u.sqrTo(i,N),u.sqrTo(N,i),d-=2;d>0?u.sqrTo(i,N):(H=i,i=N,N=H),u.mulTo(N,c[P],i)}for(;y>=0&&!(o[y]&1<<t);)u.sqrTo(i,N),H=i,i=N,N=H,--t<0&&(t=this.DB-1,--y)}var k=u.revert(i);return n(null,k),k},L.ZERO=ze(0),L.ONE=ze(1);var $t=/^[89a-f]/i,en="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",je=function(){function o(n){this.N=new ue(en,16),this.g=new ue("2",16),this.k=new ue(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=C.lW.from("Caldera Derived Key","utf8"),this.poolName=n}var e=o.prototype;return e.getSmallAValue=function(){return this.smallAValue},e.getLargeAValue=function(t){var r=this;this.largeAValue?t(null,this.largeAValue):this.calculateA(this.smallAValue,function(i,u){i&&t(i,null),r.largeAValue=u,t(null,r.largeAValue)})},e.generateRandomSmallA=function(){var t=wt(128).toString("hex");return new ue(t,16)},e.generateRandomString=function(){return wt(40).toString("base64")},e.getRandomPassword=function(){return this.randomPassword},e.getSaltDevices=function(){return this.SaltToHashDevices},e.getVerifierDevices=function(){return this.verifierDevices},e.generateHashDevice=function(t,r,i){var u=this;this.randomPassword=this.generateRandomString();var d=this.hash(""+t+r+":"+this.randomPassword),h=wt(16).toString("hex");this.SaltToHashDevices=this.padHex(new ue(h,16)),this.g.modPow(new ue(this.hexHash(this.SaltToHashDevices+d),16),this.N,function(g,m){g&&i(g,null),u.verifierDevices=u.padHex(m),i(null,null)})},e.calculateA=function(t,r){var i=this;this.g.modPow(t,this.N,function(u,c){u&&r(u,null),c.mod(i.N).equals(ue.ZERO)&&r(new Error("Illegal paramater. A mod N cannot be 0."),null),r(null,c)})},e.calculateU=function(t,r){return this.UHexHash=this.hexHash(this.padHex(t)+this.padHex(r)),new ue(this.UHexHash,16)},e.hash=function(t){var r=t instanceof C.lW?B().lib.WordArray.create(t):t,i=Ae()(r).toString();return new Array(64-i.length).join("0")+i},e.hexHash=function(t){return this.hash(C.lW.from(t,"hex"))},e.computehkdf=function(t,r){var i=B().lib.WordArray.create(C.lW.concat([this.infoBits,C.lW.from(String.fromCharCode(1),"utf8")])),u=t instanceof C.lW?B().lib.WordArray.create(t):t,c=r instanceof C.lW?B().lib.WordArray.create(r):r,d=ge()(u,c),h=ge()(i,d);return C.lW.from(h.toString(),"hex").slice(0,16)},e.getPasswordAuthenticationKey=function(t,r,i,u,c){var d=this;if(i.mod(this.N).equals(ue.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,i),this.UValue.equals(ue.ZERO))throw new Error("U cannot be zero.");var g=this.hash(""+this.poolName+t+":"+r),m=new ue(this.hexHash(this.padHex(u)+g),16);this.calculateS(m,i,function(y,P){y&&c(y,null);var D=d.computehkdf(C.lW.from(d.padHex(P),"hex"),C.lW.from(d.padHex(d.UValue),"hex"));c(null,D)})},e.calculateS=function(t,r,i){var u=this;this.g.modPow(t,this.N,function(c,d){c&&i(c,null),r.subtract(u.k.multiply(d)).modPow(u.smallAValue.add(u.UValue.multiply(t)),u.N,function(g,m){g&&i(g,null),i(null,m.mod(u.N))})})},e.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},e.padHex=function(t){if(!(t instanceof ue))throw new Error("Not a BigInteger");var r=t.compareTo(ue.ZERO)<0,i=t.abs().toString(16);if(i=$t.test(i=i.length%2!=0?"0"+i:i)?"00"+i:i,r){var u=i.split("").map(function(d){var h=15&~parseInt(d,16);return"0123456789ABCDEF".charAt(h)}).join("");(i=new ue(u,16).add(ue.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(i=i.substring(2))}return i},o}(),Ft=function(){function o(n){this.jwtToken=n||"",this.payload=this.decodePayload()}var e=o.prototype;return e.getJwtToken=function(){return this.jwtToken},e.getExpiration=function(){return this.payload.exp},e.getIssuedAt=function(){return this.payload.iat},e.decodePayload=function(){var t=this.jwtToken.split(".")[1];try{return JSON.parse(C.lW.from(t,"base64").toString("utf8"))}catch{return{}}},o}();function St(o,e){return(St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(o,e)}var At=function(o){function e(n){return o.call(this,(void 0===n?{}:n).AccessToken||"")||this}return function nn(o,e){o.prototype=Object.create(e.prototype),o.prototype.constructor=o,St(o,e)}(e,o),e}(Ft);function Ct(o,e){return(Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(o,e)}var Ut=function(o){function e(n){return o.call(this,(void 0===n?{}:n).IdToken||"")||this}return function rn(o,e){o.prototype=Object.create(e.prototype),o.prototype.constructor=o,Ct(o,e)}(e,o),e}(Ft),It=function(){function o(n){this.token=(void 0===n?{}:n).RefreshToken||""}return o.prototype.getToken=function(){return this.token},o}(),sn=b(58319),Et=b.n(sn),Tt=function(){function o(n){var t=void 0===n?{}:n,r=t.IdToken,i=t.RefreshToken,u=t.AccessToken,c=t.ClockDrift;if(null==u||null==r)throw new Error("Id token and Access Token must be present.");this.idToken=r,this.refreshToken=i,this.accessToken=u,this.clockDrift=void 0===c?this.calculateClockDrift():c}var e=o.prototype;return e.getIdToken=function(){return this.idToken},e.getRefreshToken=function(){return this.refreshToken},e.getAccessToken=function(){return this.accessToken},e.getClockDrift=function(){return this.clockDrift},e.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},e.isValid=function(){var r=Math.floor(new Date/1e3)-this.clockDrift;return r<this.accessToken.getExpiration()&&r<this.idToken.getExpiration()},o}(),on=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],an=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Rt=function(){function o(){}return o.prototype.getNowString=function(){var t=new Date,r=an[t.getUTCDay()],i=on[t.getUTCMonth()],u=t.getUTCDate(),c=t.getUTCHours();c<10&&(c="0"+c);var d=t.getUTCMinutes();d<10&&(d="0"+d);var h=t.getUTCSeconds();return h<10&&(h="0"+h),r+" "+i+" "+u+" "+c+":"+d+":"+h+" UTC "+t.getUTCFullYear()},o}(),qe=function(){function o(n){var t=void 0===n?{}:n,i=t.Value;this.Name=t.Name||"",this.Value=i||""}var e=o.prototype;return e.getValue=function(){return this.Value},e.setValue=function(t){return this.Value=t,this},e.getName=function(){return this.Name},e.setName=function(t){return this.Name=t,this},e.toString=function(){return JSON.stringify(this)},e.toJSON=function(){return{Name:this.Name,Value:this.Value}},o}(),Ne={},un=function(){function o(){}return o.setItem=function(n,t){return Ne[n]=t,Ne[n]},o.getItem=function(n){return Object.prototype.hasOwnProperty.call(Ne,n)?Ne[n]:void 0},o.removeItem=function(n){return delete Ne[n]},o.clear=function(){return Ne={}},o}(),xt=function(){function o(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=un}}return o.prototype.getStorage=function(){return this.storageWindow},o}(),Mt=typeof navigator<"u"?navigator.userAgent:"nodejs",it=function(){function o(n){if(null==n||null==n.Username||null==n.Pool)throw new Error("Username and Pool information are required.");this.username=n.Username||"",this.pool=n.Pool,this.Session=null,this.client=n.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=n.Storage||(new xt).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var e=o.prototype;return e.setSignInUserSession=function(t){this.clearCachedUserData(),this.signInUserSession=t,this.cacheTokens()},e.getSignInUserSession=function(){return this.signInUserSession},e.getUsername=function(){return this.username},e.getAuthenticationFlowType=function(){return this.authenticationFlowType},e.setAuthenticationFlowType=function(t){this.authenticationFlowType=t},e.initiateAuth=function(t,r){var i=this,u=t.getAuthParameters();u.USERNAME=this.username;var c=0!==Object.keys(t.getValidationData()).length?t.getValidationData():t.getClientMetadata(),d={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:u,ClientMetadata:c};this.getUserContextData()&&(d.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",d,function(h,g){if(h)return r.onFailure(h);var y=g.ChallengeParameters;return"CUSTOM_CHALLENGE"===g.ChallengeName?(i.Session=g.Session,r.customChallenge(y)):(i.signInUserSession=i.getCognitoUserSession(g.AuthenticationResult),i.cacheTokens(),r.onSuccess(i.signInUserSession))})},e.authenticateUser=function(t,r){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(t,r):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(t,r):r.onFailure(new Error("Authentication flow type is invalid."))},e.authenticateUserDefaultAuth=function(t,r){var d,h,i=this,u=new je(this.pool.getUserPoolName()),c=new Rt,g={};null!=this.deviceKey&&(g.DEVICE_KEY=this.deviceKey),g.USERNAME=this.username,u.getLargeAValue(function(m,y){m&&r.onFailure(m),g.SRP_A=y.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(g.CHALLENGE_NAME="SRP_A");var P=0!==Object.keys(t.getValidationData()).length?t.getValidationData():t.getClientMetadata(),D={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:g,ClientMetadata:P};i.getUserContextData(i.username)&&(D.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",D,function(N,H){if(N)return r.onFailure(N);var k=H.ChallengeParameters;i.username=k.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",d=new ue(k.SRP_B,16),h=new ue(k.SALT,16),i.getCachedDeviceKeyAndPassword(),u.getPasswordAuthenticationKey(i.username,t.getPassword(),d,h,function(J,ee){J&&r.onFailure(J);var ie=c.getNowString(),Ie=B().lib.WordArray.create(C.lW.concat([C.lW.from(i.pool.getUserPoolName(),"utf8"),C.lW.from(i.username,"utf8"),C.lW.from(k.SECRET_BLOCK,"base64"),C.lW.from(ie,"utf8")])),me=B().lib.WordArray.create(ee),ve=Et().stringify(ge()(Ie,me)),Ue={};Ue.USERNAME=i.username,Ue.PASSWORD_CLAIM_SECRET_BLOCK=k.SECRET_BLOCK,Ue.TIMESTAMP=ie,Ue.PASSWORD_CLAIM_SIGNATURE=ve,null!=i.deviceKey&&(Ue.DEVICE_KEY=i.deviceKey);var Ke={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:Ue,Session:H.Session,ClientMetadata:P};i.getUserContextData()&&(Ke.UserContextData=i.getUserContextData()),function Ee(ht,Wt){return i.client.request("RespondToAuthChallenge",ht,function(lt,Hn){return lt&&"ResourceNotFoundException"===lt.code&&-1!==lt.message.toLowerCase().indexOf("device")?(Ue.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),Ee(ht,Wt)):Wt(lt,Hn)})}(Ke,function(Ee,ht){return Ee?r.onFailure(Ee):i.authenticateUserInternal(ht,u,r)})})})})},e.authenticateUserPlainUsernamePassword=function(t,r){var i=this,u={};if(u.USERNAME=this.username,u.PASSWORD=t.getPassword(),u.PASSWORD){var c=new je(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(u.DEVICE_KEY=this.deviceKey);var d=0!==Object.keys(t.getValidationData()).length?t.getValidationData():t.getClientMetadata(),h={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:u,ClientMetadata:d};this.getUserContextData(this.username)&&(h.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",h,function(g,m){return g?r.onFailure(g):i.authenticateUserInternal(m,c,r)})}else r.onFailure(new Error("PASSWORD parameter is required"))},e.authenticateUserInternal=function(t,r,i){var u=this,c=t.ChallengeName,d=t.ChallengeParameters;if("SMS_MFA"===c)return this.Session=t.Session,i.mfaRequired(c,d);if("SELECT_MFA_TYPE"===c)return this.Session=t.Session,i.selectMFAType(c,d);if("MFA_SETUP"===c)return this.Session=t.Session,i.mfaSetup(c,d);if("SOFTWARE_TOKEN_MFA"===c)return this.Session=t.Session,i.totpRequired(c,d);if("CUSTOM_CHALLENGE"===c)return this.Session=t.Session,i.customChallenge(d);if("NEW_PASSWORD_REQUIRED"===c){this.Session=t.Session;var h=null,g=null,m=[],y=r.getNewPasswordRequiredChallengeUserAttributePrefix();if(d&&(h=JSON.parse(t.ChallengeParameters.userAttributes),g=JSON.parse(t.ChallengeParameters.requiredAttributes)),g)for(var P=0;P<g.length;P++)m[P]=g[P].substr(y.length);return i.newPasswordRequired(h,m)}if("DEVICE_SRP_AUTH"===c)return this.Session=t.Session,void this.getDeviceResponse(i);this.signInUserSession=this.getCognitoUserSession(t.AuthenticationResult),this.challengeName=c,this.cacheTokens();var D=t.AuthenticationResult.NewDeviceMetadata;if(null==D)return i.onSuccess(this.signInUserSession);r.generateHashDevice(t.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,t.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(N){if(N)return i.onFailure(N);var H={Salt:C.lW.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:C.lW.from(r.getVerifierDevices(),"hex").toString("base64")};u.verifierDevices=H.PasswordVerifier,u.deviceGroupKey=D.DeviceGroupKey,u.randomPassword=r.getRandomPassword(),u.client.request("ConfirmDevice",{DeviceKey:D.DeviceKey,AccessToken:u.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:H,DeviceName:Mt},function(k,J){return k?i.onFailure(k):(u.deviceKey=t.AuthenticationResult.NewDeviceMetadata.DeviceKey,u.cacheDeviceKeyAndPassword(),!0===J.UserConfirmationNecessary?i.onSuccess(u.signInUserSession,J.UserConfirmationNecessary):i.onSuccess(u.signInUserSession))})})},e.completeNewPasswordChallenge=function(t,r,i,u){var c=this;if(!t)return i.onFailure(new Error("New password is required."));var d=new je(this.pool.getUserPoolName()),h=d.getNewPasswordRequiredChallengeUserAttributePrefix(),g={};r&&Object.keys(r).forEach(function(y){g[h+y]=r[y]}),g.NEW_PASSWORD=t,g.USERNAME=this.username;var m={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:g,Session:this.Session,ClientMetadata:u};this.getUserContextData()&&(m.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",m,function(y,P){return y?i.onFailure(y):c.authenticateUserInternal(P,d,i)})},e.getDeviceResponse=function(t,r){var i=this,u=new je(this.deviceGroupKey),c=new Rt,d={};d.USERNAME=this.username,d.DEVICE_KEY=this.deviceKey,u.getLargeAValue(function(h,g){h&&t.onFailure(h),d.SRP_A=g.toString(16);var m={ChallengeName:"DEVICE_SRP_AUTH",ClientId:i.pool.getClientId(),ChallengeResponses:d,ClientMetadata:r,Session:i.Session};i.getUserContextData()&&(m.UserContextData=i.getUserContextData()),i.client.request("RespondToAuthChallenge",m,function(y,P){if(y)return t.onFailure(y);var D=P.ChallengeParameters,N=new ue(D.SRP_B,16),H=new ue(D.SALT,16);u.getPasswordAuthenticationKey(i.deviceKey,i.randomPassword,N,H,function(k,J){if(k)return t.onFailure(k);var ee=c.getNowString(),ie=B().lib.WordArray.create(C.lW.concat([C.lW.from(i.deviceGroupKey,"utf8"),C.lW.from(i.deviceKey,"utf8"),C.lW.from(D.SECRET_BLOCK,"base64"),C.lW.from(ee,"utf8")])),Ie=B().lib.WordArray.create(J),me=Et().stringify(ge()(ie,Ie)),ve={};ve.USERNAME=i.username,ve.PASSWORD_CLAIM_SECRET_BLOCK=D.SECRET_BLOCK,ve.TIMESTAMP=ee,ve.PASSWORD_CLAIM_SIGNATURE=me,ve.DEVICE_KEY=i.deviceKey;var Ue={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:ve,Session:P.Session};i.getUserContextData()&&(Ue.UserContextData=i.getUserContextData()),i.client.request("RespondToAuthChallenge",Ue,function(Be,Ke){return Be?t.onFailure(Be):(i.signInUserSession=i.getCognitoUserSession(Ke.AuthenticationResult),i.cacheTokens(),t.onSuccess(i.signInUserSession))})})})})},e.confirmRegistration=function(t,r,i,u){var c={ClientId:this.pool.getClientId(),ConfirmationCode:t,Username:this.username,ForceAliasCreation:r,ClientMetadata:u};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",c,function(d){return d?i(d,null):i(null,"SUCCESS")})},e.sendCustomChallengeAnswer=function(t,r,i){var u=this,c={};c.USERNAME=this.username,c.ANSWER=t;var d=new je(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(c.DEVICE_KEY=this.deviceKey);var h={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:c,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:i};this.getUserContextData()&&(h.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",h,function(g,m){return g?r.onFailure(g):u.authenticateUserInternal(m,d,r)})},e.sendMFACode=function(t,r,i,u){var c=this,d={};d.USERNAME=this.username,d.SMS_MFA_CODE=t;var h=i||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===h&&(d.SOFTWARE_TOKEN_MFA_CODE=t),null!=this.deviceKey&&(d.DEVICE_KEY=this.deviceKey);var g={ChallengeName:h,ChallengeResponses:d,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:u};this.getUserContextData()&&(g.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",g,function(m,y){if(m)return r.onFailure(m);if("DEVICE_SRP_AUTH"!==y.ChallengeName){if(c.signInUserSession=c.getCognitoUserSession(y.AuthenticationResult),c.cacheTokens(),null==y.AuthenticationResult.NewDeviceMetadata)return r.onSuccess(c.signInUserSession);var D=new je(c.pool.getUserPoolName());D.generateHashDevice(y.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,y.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(N){if(N)return r.onFailure(N);var H={Salt:C.lW.from(D.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:C.lW.from(D.getVerifierDevices(),"hex").toString("base64")};c.verifierDevices=H.PasswordVerifier,c.deviceGroupKey=y.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,c.randomPassword=D.getRandomPassword(),c.client.request("ConfirmDevice",{DeviceKey:y.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:c.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:H,DeviceName:Mt},function(k,J){return k?r.onFailure(k):(c.deviceKey=y.AuthenticationResult.NewDeviceMetadata.DeviceKey,c.cacheDeviceKeyAndPassword(),!0===J.UserConfirmationNecessary?r.onSuccess(c.signInUserSession,J.UserConfirmationNecessary):r.onSuccess(c.signInUserSession))})})}else c.getDeviceResponse(r)})},e.changePassword=function(t,r,i,u){if(null==this.signInUserSession||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:t,ProposedPassword:r,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:u},function(c){return c?i(c,null):i(null,"SUCCESS")})},e.enableMFA=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);var r=[];r.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:r,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(u){return u?t(u,null):t(null,"SUCCESS")})},e.setUserMfaPreference=function(t,r,i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:t,SoftwareTokenMfaSettings:r,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(u){return u?i(u,null):i(null,"SUCCESS")})},e.disableMFA=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i){return i?t(i,null):t(null,"SUCCESS")})},e.deleteUser=function(t,r){var i=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},function(u){return u?t(u,null):(i.clearCachedUser(),t(null,"SUCCESS"))})},e.updateAttributes=function(t,r,i){var u=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return r(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:t,ClientMetadata:i},function(c){return c?r(c,null):u.getUserData(function(){return r(null,"SUCCESS")},{bypassCache:!0})})},e.getUserAttributes=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(r,i){if(r)return t(r,null);for(var u=[],c=0;c<i.UserAttributes.length;c++){var h=new qe({Name:i.UserAttributes[c].Name,Value:i.UserAttributes[c].Value});u.push(h)}return t(null,u)})},e.getMFAOptions=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(r,i){return r?t(r,null):t(null,i.MFAOptions)})},e.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},e.refreshSessionIfPossible=function(t){var r=this;return void 0===t&&(t={}),new Promise(function(i){var u=r.signInUserSession.getRefreshToken();u&&u.getToken()?r.refreshSession(u,i,t.clientMetadata):i()})},e.getUserData=function(t,r){var i=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),t(new Error("User is not authenticated"),null);var u=this.getUserDataFromCache();if(u)if(this.isFetchUserDataAndTokenRequired(r))this.fetchUserData().then(function(c){return i.refreshSessionIfPossible(r).then(function(){return c})}).then(function(c){return t(null,c)}).catch(t);else try{return void t(null,JSON.parse(u))}catch(c){return this.clearCachedUserData(),void t(c,null)}else this.fetchUserData().then(function(c){t(null,c)}).catch(t)},e.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},e.isFetchUserDataAndTokenRequired=function(t){var i=(t||{}).bypassCache;return void 0!==i&&i},e.fetchUserData=function(){var t=this;return this.createGetUserRequest().then(function(r){return t.cacheUserData(r),r})},e.deleteAttributes=function(t,r){var i=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return r(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(u){return u?r(u,null):i.getUserData(function(){return r(null,"SUCCESS")},{bypassCache:!0})})},e.resendConfirmationCode=function(t,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:r};this.client.request("ResendConfirmationCode",i,function(u,c){return u?t(u,null):t(null,c)})},e.getSession=function(t,r){if(void 0===r&&(r={}),null==this.username)return t(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return t(null,this.signInUserSession);var i="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,u=i+".idToken",c=i+".accessToken",d=i+".refreshToken",h=i+".clockDrift";if(this.storage.getItem(u)){var g=new Ut({IdToken:this.storage.getItem(u)}),m=new At({AccessToken:this.storage.getItem(c)}),y=new It({RefreshToken:this.storage.getItem(d)}),P=parseInt(this.storage.getItem(h),0)||0,N=new Tt({IdToken:g,AccessToken:m,RefreshToken:y,ClockDrift:P});if(N.isValid())return this.signInUserSession=N,t(null,this.signInUserSession);if(!y.getToken())return t(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(y,t,r.clientMetadata)}else t(new Error("Local storage is missing an ID Token, Please authenticate"),null)},e.refreshSession=function(t,r,i){var u=this,c=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(r):r,d={};d.REFRESH_TOKEN=t.getToken();var h="CognitoIdentityServiceProvider."+this.pool.getClientId(),g=h+".LastAuthUser";this.storage.getItem(g)&&(this.username=this.storage.getItem(g),this.deviceKey=this.storage.getItem(h+"."+this.username+".deviceKey"),d.DEVICE_KEY=this.deviceKey);var y={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:d,ClientMetadata:i};this.getUserContextData()&&(y.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",y,function(P,D){if(P)return"NotAuthorizedException"===P.code&&u.clearCachedUser(),c(P,null);if(D){var N=D.AuthenticationResult;return Object.prototype.hasOwnProperty.call(N,"RefreshToken")||(N.RefreshToken=t.getToken()),u.signInUserSession=u.getCognitoUserSession(N),u.cacheTokens(),c(null,u.signInUserSession)}})},e.cacheTokens=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=t+"."+this.username+".accessToken",u=t+"."+this.username+".refreshToken",c=t+"."+this.username+".clockDrift",d=t+".LastAuthUser";this.storage.setItem(t+"."+this.username+".idToken",this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(i,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(u,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(c,""+this.signInUserSession.getClockDrift()),this.storage.setItem(d,this.username)},e.cacheUserData=function(t){this.storage.setItem(this.userDataKey,JSON.stringify(t))},e.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},e.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},e.cacheDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=t+".randomPasswordKey",u=t+".deviceGroupKey";this.storage.setItem(t+".deviceKey",this.deviceKey),this.storage.setItem(i,this.randomPassword),this.storage.setItem(u,this.deviceGroupKey)},e.getCachedDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=t+".deviceKey",i=t+".randomPasswordKey",u=t+".deviceGroupKey";this.storage.getItem(r)&&(this.deviceKey=this.storage.getItem(r),this.randomPassword=this.storage.getItem(i),this.deviceGroupKey=this.storage.getItem(u))},e.clearCachedDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=t+".randomPasswordKey",u=t+".deviceGroupKey";this.storage.removeItem(t+".deviceKey"),this.storage.removeItem(i),this.storage.removeItem(u)},e.clearCachedTokens=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=t+"."+this.username+".accessToken",u=t+"."+this.username+".refreshToken",c=t+".LastAuthUser",d=t+"."+this.username+".clockDrift";this.storage.removeItem(t+"."+this.username+".idToken"),this.storage.removeItem(i),this.storage.removeItem(u),this.storage.removeItem(c),this.storage.removeItem(d)},e.getCognitoUserSession=function(t){var r=new Ut(t),i=new At(t),u=new It(t);return new Tt({IdToken:r,AccessToken:i,RefreshToken:u})},e.forgotPassword=function(t,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",i,function(u,c){return u?t.onFailure(u):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(c):t.onSuccess(c)})},e.confirmPassword=function(t,r,i,u){var c={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:t,Password:r,ClientMetadata:u};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",c,function(d){return d?i.onFailure(d):i.onSuccess("SUCCESS")})},e.getAttributeVerificationCode=function(t,r,i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:i},function(u,c){return u?r.onFailure(u):"function"==typeof r.inputVerificationCode?r.inputVerificationCode(c):r.onSuccess("SUCCESS")})},e.verifyAttribute=function(t,r,i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:t,Code:r,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(u){return u?i.onFailure(u):i.onSuccess("SUCCESS")})},e.getDevice=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(r,i){return r?t.onFailure(r):t.onSuccess(i)})},e.forgetSpecificDevice=function(t,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:t},function(i){return i?r.onFailure(i):r.onSuccess("SUCCESS")})},e.forgetDevice=function(t){var r=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:t.onFailure,onSuccess:function(u){return r.deviceKey=null,r.deviceGroupKey=null,r.randomPassword=null,r.clearCachedDeviceKeyAndPassword(),t.onSuccess(u)}})},e.setDeviceStatusRemembered=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(r){return r?t.onFailure(r):t.onSuccess("SUCCESS")})},e.setDeviceStatusNotRemembered=function(t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(r){return r?t.onFailure(r):t.onSuccess("SUCCESS")})},e.listDevices=function(t,r,i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));var u={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:t};r&&(u.PaginationToken=r),this.client.request("ListDevices",u,function(c,d){return c?i.onFailure(c):i.onSuccess(d)})},e.globalSignOut=function(t){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i){return i?t.onFailure(i):(r.clearCachedUser(),t.onSuccess("SUCCESS"))})},e.signOut=function(t){var r=this;t&&"function"==typeof t?this.getSession(function(i,u){if(i)return t(i);r.revokeTokens(function(c){r.cleanClientData(),t(c)})}):this.cleanClientData()},e.revokeTokens=function(t){if(void 0===t&&(t=function(){}),"function"!=typeof t)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return t(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return t(new Error("No Access token available"));var c=this.signInUserSession.getRefreshToken().getToken(),d=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(d)&&c)return this.revokeToken({token:c,callback:t});t()},e.isSessionRevocable=function(t){if(t&&"function"==typeof t.decodePayload)try{return!!t.decodePayload().origin_jti}catch{}return!1},e.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},e.revokeToken=function(t){var i=t.callback;this.client.requestWithRetry("RevokeToken",{Token:t.token,ClientId:this.pool.getClientId()},function(u){if(u)return i(u);i()})},e.sendMFASelectionAnswer=function(t,r){var i=this,u={};u.USERNAME=this.username,u.ANSWER=t;var c={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:u,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",c,function(d,h){return d?r.onFailure(d):(i.Session=h.Session,"SMS_MFA"===t?r.mfaRequired(h.ChallengeName,h.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===t?r.totpRequired(h.ChallengeName,h.ChallengeParameters):void 0)})},e.getUserContextData=function(){return this.pool.getUserContextData(this.username)},e.associateSoftwareToken=function(t){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,u){return i?t.onFailure(i):t.associateSecretCode(u.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(i,u){return i?t.onFailure(i):(r.Session=u.Session,t.associateSecretCode(u.SecretCode))})},e.verifySoftwareToken=function(t,r,i){var u=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:t,FriendlyDeviceName:r},function(c,d){return c?i.onFailure(c):i.onSuccess(d)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:t,FriendlyDeviceName:r},function(c,d){if(c)return i.onFailure(c);u.Session=d.Session;var h={};h.USERNAME=u.username;var g={ChallengeName:"MFA_SETUP",ClientId:u.pool.getClientId(),ChallengeResponses:h,Session:u.Session};u.getUserContextData()&&(g.UserContextData=u.getUserContextData()),u.client.request("RespondToAuthChallenge",g,function(m,y){return m?i.onFailure(m):(u.signInUserSession=u.getCognitoUserSession(y.AuthenticationResult),u.cacheTokens(),i.onSuccess(u.signInUserSession))})})},o}(),_t=(b(33024),"aws-amplify/5.0.4"),ke={userAgent:_t+" js",product:"",navigator:null,isReactNative:!1};function De(){}typeof navigator<"u"&&navigator.product&&("ReactNative"===(ke.product=navigator.product||"",ke.navigator=navigator||null,navigator.product)?(ke.userAgent=_t+" react-native",ke.isReactNative=!0):(ke.userAgent=_t+" js",ke.isReactNative=!1)),De.prototype.userAgent=ke.userAgent;var ln=function(e){e&&(De.prototype.userAgent&&!De.prototype.userAgent.includes(e)&&(De.prototype.userAgent=De.prototype.userAgent.concat(" ",e)),(!De.prototype.userAgent||""===De.prototype.userAgent)&&(De.prototype.userAgent=e))};const dn=De;function st(o){var e="function"==typeof Map?new Map:void 0;return st=function(t){if(null===t||!function pn(o){return-1!==Function.toString.call(o).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ot(t,arguments,Pt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Xe(r,t)},st(o)}function ot(o,e,n){return(ot=function gn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct.bind():function(r,i,u){var c=[null];c.push.apply(c,i);var h=new(Function.bind.apply(r,c));return u&&Xe(h,u.prototype),h}).apply(null,arguments)}function Xe(o,e){return(Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(o,e)}function Pt(o){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(o)}var vn=function(o){function e(n,t,r,i){var u;return(u=o.call(this,n)||this).code=t,u.name=r,u.statusCode=i,u}return function Nt(o,e){o.prototype=Object.create(e.prototype),o.prototype.constructor=o,Xe(o,e)}(e,o),e}(st(Error)),mn=function(){function o(n,t,r){this.endpoint=t||"https://cognito-idp."+n+".amazonaws.com/";var u=(r||{}).credentials;this.fetchOptions=u?{credentials:u}:{}}var e=o.prototype;return e.promisifyRequest=function(t,r){var i=this;return new Promise(function(u,c){i.request(t,r,function(d,h){d?c(new vn(d.message,d.code,d.name,d.statusCode)):u(h)})})},e.requestWithRetry=function(t,r,i){var u=this;(function An(o,e,n){return void 0===n&&(n=Sn),kt(o,e,function wn(o){return function(t){var r=100*Math.pow(2,t)+100*Math.random();return!(r>o)&&r}}(n))})(function(d){return new Promise(function(h,g){u.request(t,d,function(m,y){m?g(m):h(y)})})},[r],5e3).then(function(d){return i(null,d)}).catch(function(d){return i(d)})},e.request=function(t,r,i){var d,c=Object.assign({},this.fetchOptions,{headers:{"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+t,"X-Amz-User-Agent":dn.prototype.userAgent,"Cache-Control":"no-store"},method:"POST",mode:"cors",body:JSON.stringify(r)});fetch(this.endpoint,c).then(function(g){return d=g,g},function(g){throw g instanceof TypeError?new Error("Network error"):g}).then(function(g){return g.json().catch(function(){return{}})}).then(function(g){if(d.ok)return i(null,g);var m=(g.__type||g.code).split("#").pop(),y=new Error(g.message||g.Message||null);return y.name=m,y.code=m,i(y)}).catch(function(g){if(d&&d.headers&&d.headers.get("x-amzn-errortype"))try{var m=d.headers.get("x-amzn-errortype").split(":")[0],y=new Error(d.status?d.status.toString():null);return y.code=m,y.name=m,y.statusCode=d.status,i(y)}catch{return i(g)}else g instanceof Error&&"Network error"===g.message&&(g.code="NetworkError");return i(g)})},o}(),at={debug:function(){}},yn=(Error,function(e){return e&&e.nonRetryable});function kt(o,e,n,t){if(void 0===t&&(t=1),"function"!=typeof o)throw Error("functionToRetry must be a function");return at.debug(o.name+" attempt #"+t+" with args: "+JSON.stringify(e)),o.apply(void 0,e).catch(function(r){if(at.debug("error on "+o.name,r),yn(r))throw at.debug(o.name+" non retryable error",r),r;var i=n(t,e,r);if(at.debug(o.name+" retrying in "+i+" ms"),!1!==i)return new Promise(function(u){return setTimeout(u,i)}).then(function(){return kt(o,e,n,t+1)});throw r})}var Sn=3e5,Cn=55,Un=function(){function o(n,t){var r=n||{},i=r.UserPoolId,u=r.ClientId,c=r.endpoint,d=r.fetchOptions,h=r.AdvancedSecurityDataCollectionFlag;if(!i||!u)throw new Error("Both UserPoolId and ClientId are required.");if(i.length>Cn||!/^[\w-]+_[0-9a-zA-Z]+$/.test(i))throw new Error("Invalid UserPoolId format.");var g=i.split("_")[0];this.userPoolId=i,this.clientId=u,this.client=new mn(g,c,d),this.advancedSecurityDataCollectionFlag=!1!==h,this.storage=n.Storage||(new xt).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var e=o.prototype;return e.getUserPoolId=function(){return this.userPoolId},e.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},e.getClientId=function(){return this.clientId},e.signUp=function(t,r,i,u,c,d){var h=this,g={ClientId:this.clientId,Username:t,Password:r,UserAttributes:i,ValidationData:u,ClientMetadata:d};this.getUserContextData(t)&&(g.UserContextData=this.getUserContextData(t)),this.client.request("SignUp",g,function(m,y){if(m)return c(m,null);var D={user:new it({Username:t,Pool:h,Storage:h.storage}),userConfirmed:y.UserConfirmed,userSub:y.UserSub,codeDeliveryDetails:y.CodeDeliveryDetails};return c(null,D)})},e.getCurrentUser=function(){var r=this.storage.getItem("CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser");return r?new it({Username:r,Pool:this,Storage:this.storage}):null},e.getUserContextData=function(t){if(!(typeof AmazonCognitoAdvancedSecurityData>"u")){var r=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var i=r.getData(t,this.userPoolId,this.clientId);if(i)return{EncodedData:i}}return{}}},o}(),Ze=b(47355),Ot=function(){function o(n){if(!n.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=n.domain,this.path=n.path?n.path:"/",this.expires=Object.prototype.hasOwnProperty.call(n,"expires")?n.expires:365,this.secure=!Object.prototype.hasOwnProperty.call(n,"secure")||n.secure,Object.prototype.hasOwnProperty.call(n,"sameSite")){if(!["strict","lax","none"].includes(n.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===n.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=n.sameSite}else this.sameSite=null}var e=o.prototype;return e.setItem=function(t,r){var i={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(i.sameSite=this.sameSite),Ze.set(t,r,i),Ze.get(t)},e.getItem=function(t){return Ze.get(t)},e.removeItem=function(t){var r={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(r.sameSite=this.sameSite),Ze.remove(t,r)},e.clear=function(){for(var t=Ze.get(),r=Object.keys(t).length,i=0;i<r;++i)this.removeItem(Object.keys(t)[i]);return{}},o}(),Fe=b(68762),En=function(o){var e=window.open(o,"_self");return e?Promise.resolve(e):Promise.reject()},Se=function(){return Se=Object.assign||function(o){for(var e,n=1,t=arguments.length;n<t;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o},Se.apply(this,arguments)},ut=function(o,e,n,t){return new(n||(n=Promise))(function(i,u){function c(g){try{h(t.next(g))}catch(m){u(m)}}function d(g){try{h(t.throw(g))}catch(m){u(m)}}function h(g){g.done?i(g.value):function r(i){return i instanceof n?i:new n(function(u){u(i)})}(g.value).then(c,d)}h((t=t.apply(o,e||[])).next())})},ct=function(o,e){var t,r,i,u,n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(h){return function(g){return function d(h){if(t)throw new TypeError("Generator is already executing.");for(;n;)try{if(t=1,r&&(i=2&h[0]?r.return:h[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,h[1])).done)return i;switch(r=0,i&&(h=[2&h[0],i.value]),h[0]){case 0:case 1:i=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,r=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(!(i=(i=n.trys).length>0&&i[i.length-1])&&(6===h[0]||2===h[0])){n=0;continue}if(3===h[0]&&(!i||h[1]>i[0]&&h[1]<i[3])){n.label=h[1];break}if(6===h[0]&&n.label<i[1]){n.label=i[1],i=h;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(h);break}i[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(o,n)}catch(g){h=[6,g],r=0}finally{t=i=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([h,g])}}},Oe=function(o,e){var n="function"==typeof Symbol&&o[Symbol.iterator];if(!n)return o;var r,u,t=n.call(o),i=[];try{for(;(void 0===e||e-- >0)&&!(r=t.next()).done;)i.push(r.value)}catch(c){u={error:c}}finally{try{r&&!r.done&&(n=t.return)&&n.call(t)}finally{if(u)throw u.error}}return i},bn=typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Dt=function(o,e,n){_.Xb.dispatch("auth",{event:o,data:e,message:n},"Auth",bn)},Ye=new O.k("OAuth"),Fn=function(){function o(e){var n=e.config,t=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;if(this._urlOpener=n.urlOpener||En,this._config=n,this._cognitoClientId=t,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return o.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every(function(n){return"string"==typeof n})},o.prototype.oauthSignIn=function(e,n,t,r,i,u){void 0===e&&(e="code"),void 0===i&&(i=F.Cognito);var c=this._generateState(32),d=u?c+"-"+(0,j.T)(u):c;!function(o){window.sessionStorage.setItem("oauth_state",o)}(d);var h=this._generateRandom(128);!function(o){window.sessionStorage.setItem("ouath_pkce_key",o)}(h);var g=this._generateChallenge(h),y=this._scopes.join(" "),D="https://"+n+"/oauth2/authorize?"+Object.entries(Se(Se({redirect_uri:t,response_type:e,client_id:r,identity_provider:i,scope:y,state:d},"code"===e?{code_challenge:g}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map(function(N){var H=Oe(N,2),J=H[1];return encodeURIComponent(H[0])+"="+encodeURIComponent(J)}).join("&");Ye.debug("Redirecting to "+D),this._urlOpener(D,t)},o.prototype._handleCodeFlow=function(e){return ut(this,void 0,void 0,function(){var n,t,r,i,u,c,d,h,g,m,y,P,D,N;return ct(this,function(H){switch(H.label){case 0:return n=((0,Fe.parse)(e).query||"").split("&").map(function(k){return k.split("=")}).reduce(function(k,J){var ee,ie=Oe(J,2),Ie=ie[0],me=ie[1];return Se(Se({},k),((ee={})[Ie]=me,ee))},{code:void 0}).code,t=(0,Fe.parse)(e).pathname||"/",r=(0,Fe.parse)(this._config.redirectSignIn).pathname||"/",n&&t===r?(Dt("codeFlow",{},"Retrieving tokens from "+(i="https://"+this._config.domain+"/oauth2/token")),u=Y(this._config)?this._cognitoClientId:this._config.clientID,c=Y(this._config)?this._config.redirectSignIn:this._config.redirectUri,d=function(){var o=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),o}(),h=Se({grant_type:"authorization_code",code:n,client_id:u,redirect_uri:c},d?{code_verifier:d}:{}),Ye.debug("Calling token endpoint: "+i+" with",h),g=Object.entries(h).map(function(k){var J=Oe(k,2),ie=J[1];return encodeURIComponent(J[0])+"="+encodeURIComponent(ie)}).join("&"),[4,fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:g})]):[2];case 1:return[4,H.sent().json()];case 2:if(m=H.sent(),y=m.access_token,P=m.refresh_token,D=m.id_token,N=m.error)throw new Error(N);return[2,{accessToken:y,refreshToken:P,idToken:D}]}})})},o.prototype._handleImplicitFlow=function(e){return ut(this,void 0,void 0,function(){var n,t,r;return ct(this,function(i){return n=((0,Fe.parse)(e).hash||"#").substr(1).split("&").map(function(u){return u.split("=")}).reduce(function(u,c){var d,h=Oe(c,2),g=h[0],m=h[1];return Se(Se({},u),((d={})[g]=m,d))},{id_token:void 0,access_token:void 0}),t=n.id_token,r=n.access_token,Dt("implicitFlow",{},"Got tokens from "+e),Ye.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:t,refreshToken:null}]})})},o.prototype.handleAuthResponse=function(e){return ut(this,void 0,void 0,function(){var n,r,i,u,c,d;return ct(this,function(h){switch(h.label){case 0:if(h.trys.push([0,5,,6]),n=e?Se(Se({},((0,Fe.parse)(e).hash||"#").substr(1).split("&").map(function(g){return g.split("=")}).reduce(function(g,m){var y=Oe(m,2);return g[y[0]]=y[1],g},{})),((0,Fe.parse)(e).query||"").split("&").map(function(g){return g.split("=")}).reduce(function(g,m){var y=Oe(m,2);return g[y[0]]=y[1],g},{})):{},r=n.error_description,n.error)throw new Error(r);return i=this._validateState(n),Ye.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(u=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,Se.apply(void 0,[Se.apply(void 0,u.concat([h.sent()])),{state:i}])];case 2:return c=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,Se.apply(void 0,[Se.apply(void 0,c.concat([h.sent()])),{state:i}])];case 4:return[3,6];case 5:throw d=h.sent(),Ye.error("Error handling auth response.",d),d;case 6:return[2]}})})},o.prototype._validateState=function(e){if(e){var n=function(){var o=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),o}(),t=e.state;if(n&&n!==t)throw new Error("Invalid state in OAuth flow");return t}},o.prototype.signOut=function(){return ut(this,void 0,void 0,function(){var e,n,t;return ct(this,function(r){return e="https://"+this._config.domain+"/logout?",n=Y(this._config)?this._cognitoClientId:this._config.oauth.clientID,t=Y(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:n,logout_uri:encodeURIComponent(t)}).map(function(i){var u=Oe(i,2);return u[0]+"="+u[1]}).join("&"),Dt("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),Ye.debug("Signing out from "+e),[2,this._urlOpener(e,t)]})})},o.prototype._generateState=function(e){for(var n="",t=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";t>0;--t)n+=r[Math.round(Math.random()*(r.length-1))];return n},o.prototype._generateChallenge=function(e){return this._base64URL(Ae()(e))},o.prototype._base64URL=function(e){return e.toString(Et()).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},o.prototype._generateRandom=function(e){var t=new Uint8Array(e);if(typeof window<"u"&&window.crypto)window.crypto.getRandomValues(t);else for(var r=0;r<e;r+=1)t[r]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},o.prototype._bufferToString=function(e){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=[],r=0;r<e.byteLength;r+=1)t.push(n[e[r]%n.length]);return t.join("")},o}();const Rn=Fn;var o,de=(()=>{return(o=de||(de={})).DEFAULT_MSG="Authentication Error",o.EMPTY_EMAIL="Email cannot be empty",o.EMPTY_PHONE="Phone number cannot be empty",o.EMPTY_USERNAME="Username cannot be empty",o.INVALID_USERNAME="The username should either be a string or one of the sign in types",o.EMPTY_PASSWORD="Password cannot be empty",o.EMPTY_CODE="Confirmation code cannot be empty",o.SIGN_UP_ERROR="Error creating account",o.NO_MFA="No valid MFA method provided",o.INVALID_MFA="Invalid MFA type",o.EMPTY_CHALLENGE="Challenge response cannot be empty",o.NO_USER_SESSION="Failed to get the session because the user is empty",o.NETWORK_ERROR="Network Error",o.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",o.AUTOSIGNIN_ERROR="Please use your credentials to sign in",de;var o})(),Bt=(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])})(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),Mn=new O.k("AuthError"),Re=function(o){function e(n){var t=this,r=kn[n],i=r.message,u=r.log;return(t=o.call(this,i)||this).constructor=e,Object.setPrototypeOf(t,e.prototype),t.name="AuthError",t.log=u||i,Mn.error(t.log),t}return Bt(e,o),e}(Error),Nn=function(o){function e(n){var t=o.call(this,n)||this;return t.constructor=e,Object.setPrototypeOf(t,e.prototype),t.name="NoUserPoolError",t}return Bt(e,o),e}(Re),kn={noConfig:{message:de.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:de.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:de.EMPTY_USERNAME},invalidUsername:{message:de.INVALID_USERNAME},emptyPassword:{message:de.EMPTY_PASSWORD},emptyCode:{message:de.EMPTY_CODE},signUpError:{message:de.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:de.NO_MFA},invalidMFA:{message:de.INVALID_MFA},emptyChallengeResponse:{message:de.EMPTY_CHALLENGE},noUserSession:{message:de.NO_USER_SESSION},deviceConfig:{message:de.DEVICE_CONFIG},networkError:{message:de.NETWORK_ERROR},autoSignInError:{message:de.AUTOSIGNIN_ERROR},default:{message:de.DEFAULT_MSG}},ft=function(){return ft=Object.assign||function(o){for(var e,n=1,t=arguments.length;n<t;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o},ft.apply(this,arguments)},ne=function(o,e,n,t){return new(n||(n=Promise))(function(i,u){function c(g){try{h(t.next(g))}catch(m){u(m)}}function d(g){try{h(t.throw(g))}catch(m){u(m)}}function h(g){g.done?i(g.value):function r(i){return i instanceof n?i:new n(function(u){u(i)})}(g.value).then(c,d)}h((t=t.apply(o,e||[])).next())})},re=function(o,e){var t,r,i,u,n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(h){return function(g){return function d(h){if(t)throw new TypeError("Generator is already executing.");for(;n;)try{if(t=1,r&&(i=2&h[0]?r.return:h[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,h[1])).done)return i;switch(r=0,i&&(h=[2&h[0],i.value]),h[0]){case 0:case 1:i=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,r=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(!(i=(i=n.trys).length>0&&i[i.length-1])&&(6===h[0]||2===h[0])){n=0;continue}if(3===h[0]&&(!i||h[1]>i[0]&&h[1]<i[3])){n.label=h[1];break}if(6===h[0]&&n.label<i[1]){n.label=i[1],i=h;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(h);break}i[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(o,n)}catch(g){h=[6,g],r=0}finally{t=i=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([h,g])}}},Kt=function(o,e){var n="function"==typeof Symbol&&o[Symbol.iterator];if(!n)return o;var r,u,t=n.call(o),i=[];try{for(;(void 0===e||e-- >0)&&!(r=t.next()).done;)i.push(r.value)}catch(c){u={error:c}}finally{try{r&&!r.done&&(n=t.return)&&n.call(t)}finally{if(u)throw u.error}}return i},U=new O.k("AuthClass"),Vt="aws.cognito.signin.user.admin",Bn=typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",$=function(o,e,n){_.Xb.dispatch("auth",{event:o,data:e,message:n},"Auth",Bn)},Wn=function(){function o(e){var n=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.Credentials=V.cN,this.wrapRefreshSessionCallback=function(t){return function(i,u){return u?$("tokenRefresh",void 0,"New token retrieved"):$("tokenRefresh_failure",i,"Failed to retrieve new token"),t(i,u)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),_.Xb.listen("auth",function(t){switch(t.payload.event){case"signIn":n._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":n._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":n._storage.setItem("amplify-signin-with-hostedUI","true")}})}return o.prototype.getModuleName=function(){return"Auth"},o.prototype.configure=function(e){var n=this;if(!e)return this._config||{};U.debug("configure Auth");var t=Object.assign({},this._config,M._b.parseMobilehubConfig(e).Auth,e);this._config=t;var r=this._config,i=r.userPoolId,u=r.userPoolWebClientId,c=r.cookieStorage,d=r.oauth,h=r.region,g=r.identityPoolId,m=r.mandatorySignIn,y=r.refreshHandlers,P=r.identityPoolRegion,D=r.clientMetadata,N=r.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw U.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=c?new Ot(c):e.ssr?new E.N:(new T.c4).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),i){var H={UserPoolId:i,ClientId:u,endpoint:N};H.Storage=this._storage,this.userPool=new Un(H,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:m,region:P||h,userPoolId:i,identityPoolId:g,refreshHandlers:y,storage:this._storage});var k=d?Y(this._config.oauth)?d:d.awsCognito:void 0;if(k){var J=Object.assign({cognitoClientId:u,UserPoolId:i,domain:k.domain,scopes:k.scope,redirectSignIn:k.redirectSignIn,redirectSignOut:k.redirectSignOut,responseType:k.responseType,Storage:this._storage,urlOpener:k.urlOpener,clientMetadata:D},k.options);this._oAuthHandler=new Rn({scopes:J.scopes,config:J,cognitoClientId:J.cognitoClientId});var ee={};!function(o){if((0,R.lC)().isBrowser&&window.location)Ie={url:window.location.href},ee[me=Ie.url]||(ee[me]=!0,n._handleAuthResponse(me));else if(!(0,R.lC)().isNode)throw new Error("Not supported");var Ie,me}()}return $("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem||(this.isTrueStorageValue("amplify-polling-started")&&($("autoSignIn_failure",null,A.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")),this._config},o.prototype.signUp=function(e){for(var n=this,t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i,u,c;if(!this.userPool)return this.rejectNoUserPool();var y,d=null,h=null,g=[],m=null,P={enabled:!1},D={},N={};if(e&&"string"==typeof e){d=e,h=t?t[0]:null;var H=t?t[1]:null,k=t?t[2]:null;H&&g.push(new qe({Name:"email",Value:H})),k&&g.push(new qe({Name:"phone_number",Value:k}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(A.SignUpError);d=e.username,h=e.password,e&&e.clientMetadata?y=e.clientMetadata:this._config.clientMetadata&&(y=this._config.clientMetadata);var J=e.attributes;J&&Object.keys(J).map(function(ie){g.push(new qe({Name:ie,Value:J[ie]}))});var ee=e.validationData;ee&&(m=[],Object.keys(ee).map(function(ie){m.push(new qe({Name:ie,Value:ee[ie]}))})),(P=null!==(i=e.autoSignIn)&&void 0!==i?i:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),D=null!==(u=P.validationData)&&void 0!==u?u:{},N=null!==(c=P.clientMetaData)&&void 0!==c?c:{})}return d?h?(U.debug("signUp attrs:",g),U.debug("signUp validation data:",m),new Promise(function(ie,Ie){n.userPool.signUp(d,h,g,m,function(me,ve){me?($("signUp_failure",me,d+" failed to signup"),Ie(me)):($("signUp",ve,d+" has signed up successfully"),P.enabled&&n.handleAutoSignIn(d,h,D,N,ve),ie(ve))},y)})):this.rejectAuthError(A.EmptyPassword):this.rejectAuthError(A.EmptyUsername)},o.prototype.handleAutoSignIn=function(e,n,t,r,i){this.autoSignInInitiated=!0;var u=new w({Username:e,Password:n,ValidationData:t,ClientMetadata:r});i.userConfirmed?this.signInAfterUserConfirmed(u):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(u):this.handleCodeAutoSignIn(u)},o.prototype.handleCodeAutoSignIn=function(e){var n=this,t=function(r){"confirmSignUp"===r.payload.event&&n.signInAfterUserConfirmed(e,t)};_.Xb.listen("auth",t)},o.prototype.handleLinkAutoSignIn=function(e){var n=this;this._storage.setItem("amplify-polling-started","true");var t=Date.now(),r=setInterval(function(){Date.now()-t>18e4?(clearInterval(r),$("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),n._storage.removeItem("amplify-auto-sign-in")):n.signInAfterUserConfirmed(e,null,r)},5e3)},o.prototype.signInAfterUserConfirmed=function(e,n,t){return ne(this,void 0,void 0,function(){var r,i,u=this;return re(this,function(c){switch(c.label){case 0:r=this.createCognitoUser(e.getUsername()),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,r.authenticateUser(e,this.authCallbacks(r,function(d){$("autoSignIn",d,e.getUsername()+" has signed in successfully"),n&&_.Xb.remove("auth",n),t&&(clearInterval(t),u._storage.removeItem("amplify-polling-started")),u._storage.removeItem("amplify-auto-sign-in")},function(d){U.error(d),u._storage.removeItem("amplify-auto-sign-in")}))];case 2:return c.sent(),[3,4];case 3:return i=c.sent(),U.error(i),[3,4];case 4:return[2]}})})},o.prototype.confirmSignUp=function(e,n,t){var r=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(A.EmptyUsername);if(!n)return this.rejectAuthError(A.EmptyCode);var c,i=this.createCognitoUser(e),u=!t||"boolean"!=typeof t.forceAliasCreation||t.forceAliasCreation;return t&&t.clientMetadata?c=t.clientMetadata:this._config.clientMetadata&&(c=this._config.clientMetadata),new Promise(function(d,h){i.confirmRegistration(n,u,function(g,m){g?h(g):($("confirmSignUp",m,e+" has been confirmed successfully"),r.isTrueStorageValue("amplify-auto-sign-in")&&!r.autoSignInInitiated&&($("autoSignIn_failure",null,A.AutoSignInError),r._storage.removeItem("amplify-auto-sign-in")),d(m))},c)})},o.prototype.isTrueStorageValue=function(e){var n=this._storage.getItem(e);return!!n&&"true"===n},o.prototype.resendSignUp=function(e,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(A.EmptyUsername);var t=this.createCognitoUser(e);return new Promise(function(r,i){t.resendConfirmationCode(function(u,c){u?i(u):r(c)},n)})},o.prototype.signIn=function(e,n,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,i=null,u={};if("string"==typeof e)r=e,i=n;else{if(!function x(o){return!!o.username}(e))return this.rejectAuthError(A.InvalidUsername);typeof n<"u"&&U.warn("The password should be defined under the first parameter object!"),r=e.username,i=e.password,u=e.validationData}if(!r)return this.rejectAuthError(A.EmptyUsername);var c=new w({Username:r,Password:i,ValidationData:u,ClientMetadata:t});return i?this.signInWithPassword(c):this.signInWithoutPassword(c)},o.prototype.authCallbacks=function(e,n,t){var r=this,i=this;return{onSuccess:function(u){return ne(r,void 0,void 0,function(){var c,d,h,g;return re(this,function(m){switch(m.label){case 0:U.debug(u),delete e.challengeName,delete e.challengeParam,m.label=1;case 1:return m.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return m.sent(),[4,this.Credentials.set(u,"session")];case 3:return c=m.sent(),U.debug("succeed to get cognito credentials",c),[3,9];case 4:return d=m.sent(),U.debug("cannot get cognito credentials",d),[3,9];case 5:return m.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return h=m.sent(),i.user=h,$("signIn",h,"A user "+e.getUsername()+" has been signed in"),n(h),[3,8];case 7:return g=m.sent(),U.error("Failed to get the signed in user",g),t(g),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(u){U.debug("signIn failure",u),$("signIn_failure",u,e.getUsername()+" failed to signin"),t(u)},customChallenge:function(u){U.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=u,n(e)},mfaRequired:function(u,c){U.debug("signIn MFA required"),e.challengeName=u,e.challengeParam=c,n(e)},mfaSetup:function(u,c){U.debug("signIn mfa setup",u),e.challengeName=u,e.challengeParam=c,n(e)},newPasswordRequired:function(u,c){U.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:u,requiredAttributes:c},n(e)},totpRequired:function(u,c){U.debug("signIn totpRequired"),e.challengeName=u,e.challengeParam=c,n(e)},selectMFAType:function(u,c){U.debug("signIn selectMFAType",u),e.challengeName=u,e.challengeParam=c,n(e)}}},o.prototype.signInWithPassword=function(e){var n=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var t=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise(function(r,i){t.authenticateUser(e,n.authCallbacks(t,function(u){n.pendingSignIn=null,r(u)},function(u){n.pendingSignIn=null,i(u)}))}),this.pendingSignIn},o.prototype.signInWithoutPassword=function(e){var n=this,t=this.createCognitoUser(e.getUsername());return t.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(r,i){t.initiateAuth(e,n.authCallbacks(t,r,i))})},o.prototype.getMFAOptions=function(e){return new Promise(function(n,t){e.getMFAOptions(function(r,i){if(r)return U.debug("get MFA Options failed",r),void t(r);U.debug("get MFA options success",i),n(i)})})},o.prototype.getPreferredMFA=function(e,n){var t=this,r=this;return new Promise(function(i,u){e.getUserData(function(h,g){return ne(t,void 0,void 0,function(){var m,y;return re(this,function(P){switch(P.label){case 0:if(!h)return[3,5];if(U.debug("getting preferred mfa failed",h),!this.isSessionInvalid(h))return[3,4];P.label=1;case 1:return P.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return P.sent(),[3,4];case 3:return m=P.sent(),u(new Error("Session is invalid due to: "+h.message+" and failed to clean up invalid session: "+m.message)),[2];case 4:return u(h),[2];case 5:return(y=r._getMfaTypeFromUserData(g))?(i(y),[2]):(u("invalid MFA Type"),[2])}})})},{bypassCache:!!n&&n.bypassCache,clientMetadata:t._config.clientMetadata})})},o.prototype._getMfaTypeFromUserData=function(e){var n=null,t=e.PreferredMfaSetting;if(t)n=t;else{var r=e.UserMFASettingList;r?0===r.length?n="NOMFA":U.debug("invalid case for getPreferredMFA",e):n=e.MFAOptions?"SMS_MFA":"NOMFA"}return n},o.prototype._getUserData=function(e,n){var t=this;return new Promise(function(r,i){e.getUserData(function(u,c){return ne(t,void 0,void 0,function(){var d;return re(this,function(h){switch(h.label){case 0:if(!u)return[3,5];if(U.debug("getting user data failed",u),!this.isSessionInvalid(u))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return h.sent(),[3,4];case 3:return d=h.sent(),i(new Error("Session is invalid due to: "+u.message+" and failed to clean up invalid session: "+d.message)),[2];case 4:return i(u),[2];case 5:r(c),h.label=6;case 6:return[2]}})})},n)})},o.prototype.setPreferredMFA=function(e,n){return ne(this,void 0,void 0,function(){var t,r,i,u,d,h,m=this;return re(this,function(y){switch(y.label){case 0:return[4,this._getUserData(e,{bypassCache:!0,clientMetadata:t=this._config.clientMetadata})];case 1:switch(r=y.sent(),i=null,u=null,n){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return u={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return d=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(h=y.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===h)i={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==h)return[2,this.rejectAuthError(A.InvalidMFA)];u={PreferredMfa:!1,Enabled:!1}}return d&&0!==d.length&&d.forEach(function(P){"SMS_MFA"===P?i={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===P&&(u={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return U.debug("no validmfa method provided"),[2,this.rejectAuthError(A.NoMFA)];case 7:return[2,new Promise(function(P,D){e.setUserMfaPreference(i,u,function(N,H){if(N)return U.debug("Set user mfa preference error",N),D(N);U.debug("Set user mfa success",H),U.debug("Caching the latest user data into local"),e.getUserData(function(k,J){return ne(m,void 0,void 0,function(){var ee;return re(this,function(ie){switch(ie.label){case 0:if(!k)return[3,5];if(U.debug("getting user data failed",k),!this.isSessionInvalid(k))return[3,4];ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return ie.sent(),[3,4];case 3:return ee=ie.sent(),D(new Error("Session is invalid due to: "+k.message+" and failed to clean up invalid session: "+ee.message)),[2];case 4:return[2,D(k)];case 5:return[2,P(H)]}})})},{bypassCache:!0,clientMetadata:t})})})]}})})},o.prototype.disableSMS=function(e){return new Promise(function(n,t){e.disableMFA(function(r,i){if(r)return U.debug("disable mfa failed",r),void t(r);U.debug("disable mfa succeed",i),n(i)})})},o.prototype.enableSMS=function(e){return new Promise(function(n,t){e.enableMFA(function(r,i){if(r)return U.debug("enable mfa failed",r),void t(r);U.debug("enable mfa succeed",i),n(i)})})},o.prototype.setupTOTP=function(e){return new Promise(function(n,t){e.associateSoftwareToken({onFailure:function(r){U.debug("associateSoftwareToken failed",r),t(r)},associateSecretCode:function(r){U.debug("associateSoftwareToken sucess",r),n(r)}})})},o.prototype.verifyTotpToken=function(e,n){return U.debug("verification totp token",e,n),new Promise(function(t,r){e.verifySoftwareToken(n,"My TOTP device",{onFailure:function(i){U.debug("verifyTotpToken failed",i),r(i)},onSuccess:function(i){$("signIn",e,"A user "+e.getUsername()+" has been signed in"),U.debug("verifyTotpToken success",i),t(i)}})})},o.prototype.confirmSignIn=function(e,n,t,r){var i=this;if(void 0===r&&(r=this._config.clientMetadata),!n)return this.rejectAuthError(A.EmptyCode);var u=this;return new Promise(function(c,d){e.sendMFACode(n,{onSuccess:function(h){return ne(i,void 0,void 0,function(){var g,m;return re(this,function(y){switch(y.label){case 0:U.debug(h),y.label=1;case 1:return y.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return y.sent(),[4,this.Credentials.set(h,"session")];case 3:return g=y.sent(),U.debug("succeed to get cognito credentials",g),[3,6];case 4:return m=y.sent(),U.debug("cannot get cognito credentials",m),[3,6];case 5:return u.user=e,$("signIn",e,"A user "+e.getUsername()+" has been signed in"),c(e),[7];case 6:return[2]}})})},onFailure:function(h){U.debug("confirm signIn failure",h),d(h)}},t,r)})},o.prototype.completeNewPassword=function(e,n,t,r){var i=this;if(void 0===t&&(t={}),void 0===r&&(r=this._config.clientMetadata),!n)return this.rejectAuthError(A.EmptyPassword);var u=this;return new Promise(function(c,d){e.completeNewPasswordChallenge(n,t,{onSuccess:function(h){return ne(i,void 0,void 0,function(){var g,m;return re(this,function(y){switch(y.label){case 0:U.debug(h),y.label=1;case 1:return y.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return y.sent(),[4,this.Credentials.set(h,"session")];case 3:return g=y.sent(),U.debug("succeed to get cognito credentials",g),[3,6];case 4:return m=y.sent(),U.debug("cannot get cognito credentials",m),[3,6];case 5:return u.user=e,$("signIn",e,"A user "+e.getUsername()+" has been signed in"),c(e),[7];case 6:return[2]}})})},onFailure:function(h){U.debug("completeNewPassword failure",h),$("completeNewPassword_failure",h,i.user+" failed to complete the new password flow"),d(h)},mfaRequired:function(h,g){U.debug("signIn MFA required"),e.challengeName=h,e.challengeParam=g,c(e)},mfaSetup:function(h,g){U.debug("signIn mfa setup",h),e.challengeName=h,e.challengeParam=g,c(e)},totpRequired:function(h,g){U.debug("signIn mfa setup",h),e.challengeName=h,e.challengeParam=g,c(e)}},r)})},o.prototype.sendCustomChallengeAnswer=function(e,n,t){var r=this;return void 0===t&&(t=this._config.clientMetadata),this.userPool?n?new Promise(function(u,c){e.sendCustomChallengeAnswer(n,r.authCallbacks(e,u,c),t)}):this.rejectAuthError(A.EmptyChallengeResponse):this.rejectNoUserPool()},o.prototype.deleteUserAttributes=function(e,n){var t=this;return new Promise(function(r,i){t.userSession(e).then(function(u){e.deleteAttributes(n,function(c,d){return c?i(c):r(d)})})})},o.prototype.deleteUser=function(){return ne(this,void 0,void 0,function(){var e,n,t=this;return re(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),U.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return n=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(i,u){return ne(t,void 0,void 0,function(){var c,d=this;return re(this,function(h){if(this.userPool){if(!(c=this.userPool.getCurrentUser()))return U.debug("Failed to get user from user pool"),[2,u(new Error("No current user."))];c.getSession(function(g,m){return ne(d,void 0,void 0,function(){var y,P=this;return re(this,function(D){switch(D.label){case 0:if(!g)return[3,5];if(U.debug("Failed to get the user session",g),!this.isSessionInvalid(g))return[3,4];D.label=1;case 1:return D.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(c)];case 2:return D.sent(),[3,4];case 3:return y=D.sent(),u(new Error("Session is invalid due to: "+g.message+" and failed to clean up invalid session: "+y.message)),[2];case 4:return[2,u(g)];case 5:c.deleteUser(function(N,H){if(N)u(N);else{$("userDeleted",H,"The authenticated user has been deleted."),c.signOut(),P.user=null;try{P.cleanCachedItems()}catch{U.debug("failed to clear cached items")}n?P.oAuthSignOutRedirect(i,u):($("signOut",P.user,"A user has been signed out"),i(H))}}),D.label=6;case 6:return[2]}})})})}else U.debug("no Congito User pool"),u(new Error("Cognito User pool does not exist"));return[2]})})})]}})})},o.prototype.updateUserAttributes=function(e,n,t){void 0===t&&(t=this._config.clientMetadata);var r=[],i=this;return new Promise(function(u,c){i.userSession(e).then(function(d){for(var h in n)"sub"!==h&&h.indexOf("_verified")<0&&r.push({Name:h,Value:n[h]});e.updateAttributes(r,function(m,y){return m?c(m):u(y)},t)})})},o.prototype.userAttributes=function(e){var n=this;return new Promise(function(t,r){n.userSession(e).then(function(i){e.getUserAttributes(function(u,c){u?r(u):t(c)})})})},o.prototype.verifiedContact=function(e){var n=this;return this.userAttributes(e).then(function(t){var r=n.attributesToObject(t),i={},u={};return r.email&&(r.email_verified?u.email=r.email:i.email=r.email),r.phone_number&&(r.phone_number_verified?u.phone_number=r.phone_number:i.phone_number=r.phone_number),{verified:u,unverified:i}})},o.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},o.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},o.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},o.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},o.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},o.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},o.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},o.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)},o.prototype.cleanUpInvalidSession=function(e){return ne(this,void 0,void 0,function(){var t=this;return re(this,function(r){switch(r.label){case 0:e.signOut(),this.user=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return r.sent(),[3,4];case 3:return r.sent(),U.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise(function(i,u){t.oAuthSignOutRedirect(i,u)})]:($("signOut",this.user,"A user has been signed out"),[2])}})})},o.prototype.currentUserPoolUser=function(e){var n=this;return this.userPool?new Promise(function(t,r){n._storageSync.then(function(){return ne(n,void 0,void 0,function(){var i,c=this;return re(this,function(d){switch(d.label){case 0:return this.isOAuthInProgress()?(U.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(h){var g=setTimeout(function(){U.debug("OAuth signIn in progress timeout"),_.Xb.remove("auth",m),h()},1e4);function m(y){var D=y.payload.event;("cognitoHostedUI"===D||"cognitoHostedUI_failure"===D)&&(U.debug("OAuth signIn resolved: "+D),clearTimeout(g),_.Xb.remove("auth",m),h())}_.Xb.listen("auth",m)})]):[3,2];case 1:d.sent(),d.label=2;case 2:return(i=this.userPool.getCurrentUser())?(i.getSession(function(h,g){return ne(c,void 0,void 0,function(){var m,y,P,D,H=this;return re(this,function(k){switch(k.label){case 0:if(!h)return[3,5];if(U.debug("Failed to get the user session",h),!this.isSessionInvalid(h))return[3,4];k.label=1;case 1:return k.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(i)];case 2:return k.sent(),[3,4];case 3:return m=k.sent(),r(new Error("Session is invalid due to: "+h.message+" and failed to clean up invalid session: "+m.message)),[2];case 4:return r(h),[2];case 5:return(y=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,7];case 6:k.sent(),k.label=7;case 7:return P=this._config.clientMetadata,(void 0===(D=g.getAccessToken().decodePayload().scope)?"":D).split(" ").includes(Vt)?(i.getUserData(function(J,ee){return ne(H,void 0,void 0,function(){var ie,Ie,me,ve,Be,Ke;return re(this,function(Ee){switch(Ee.label){case 0:if(!J)return[3,7];if(U.debug("getting user data failed",J),!this.isSessionInvalid(J))return[3,5];Ee.label=1;case 1:return Ee.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(i)];case 2:return Ee.sent(),[3,4];case 3:return ie=Ee.sent(),r(new Error("Session is invalid due to: "+J.message+" and failed to clean up invalid session: "+ie.message)),[2];case 4:return r(J),[3,6];case 5:t(i),Ee.label=6;case 6:return[2];case 7:for(Ie=ee.PreferredMfaSetting||"NOMFA",me=[],ve=0;ve<ee.UserAttributes.length;ve++)Be=new qe({Name:ee.UserAttributes[ve].Name,Value:ee.UserAttributes[ve].Value}),me.push(Be);return Ke=this.attributesToObject(me),Object.assign(i,{attributes:Ke,preferredMFA:Ie}),[2,t(i)]}})})},{bypassCache:y,clientMetadata:P}),[2]):(U.debug("Unable to get the user data because the "+Vt+" is not in the scopes of the access token"),[2,t(i)])}})})},{clientMetadata:this._config.clientMetadata}),[2]):(U.debug("Failed to get user from user pool"),r("No current user"),[2])}})})}).catch(function(i){return U.debug("Failed to sync cache info into memory",i),r(i)})}):this.rejectNoUserPool()},o.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},o.prototype.currentAuthenticatedUser=function(e){return ne(this,void 0,void 0,function(){var n,t,r,i,u;return re(this,function(c){switch(c.label){case 0:U.debug("getting current authenticated user"),n=null,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this._storageSync];case 2:return c.sent(),[3,4];case 3:throw t=c.sent(),U.debug("Failed to sync cache info into memory",t),t;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(n=ft(ft({},r.user),{token:r.token}))}catch{U.debug("cannot load federated user from auth storage")}return n?(this.user=n,U.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:U.debug("get current authenticated userpool user"),i=null,c.label=6;case 6:return c.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=c.sent(),[3,9];case 8:return"No userPool"===(u=c.sent())&&U.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),U.debug("The user is not authenticated by the error",u),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}})})},o.prototype.currentSession=function(){var e=this;return U.debug("Getting current session"),this.userPool?new Promise(function(n,t){e.currentUserPoolUser().then(function(r){e.userSession(r).then(function(i){n(i)}).catch(function(i){U.debug("Failed to get the current session",i),t(i)})}).catch(function(r){U.debug("Failed to get the current user",r),t(r)})}):Promise.reject(new Error("No User Pool in the configuration."))},o.prototype.userSession=function(e){var n=this;if(!e)return U.debug("the user is null"),this.rejectAuthError(A.NoUserSession);var t=this._config.clientMetadata;return new Promise(function(r,i){U.debug("Getting the session from this user:",e),e.getSession(function(u,c){return ne(n,void 0,void 0,function(){var d;return re(this,function(h){switch(h.label){case 0:if(!u)return[3,5];if(U.debug("Failed to get the session from user",e),!this.isSessionInvalid(u))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return h.sent(),[3,4];case 3:return d=h.sent(),i(new Error("Session is invalid due to: "+u.message+" and failed to clean up invalid session: "+d.message)),[2];case 4:return i(u),[2];case 5:return U.debug("Succeed to get the user session",c),r(c),[2]}})})},{clientMetadata:t})})},o.prototype.currentUserCredentials=function(){return ne(this,void 0,void 0,function(){var e,n,t=this;return re(this,function(r){switch(r.label){case 0:U.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),U.debug("Failed to sync cache info into memory",e),e;case 4:n=null;try{n=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(i){U.debug("failed to get or parse item aws-amplify-federatedInfo",i)}return n?[2,this.Credentials.refreshFederatedToken(n)]:[2,this.currentSession().then(function(i){return U.debug("getting session success",i),t.Credentials.set(i,"session")}).catch(function(){return U.debug("getting guest credentials"),t.Credentials.set(null,"guest")})]}})})},o.prototype.currentCredentials=function(){return U.debug("getting current credentials"),this.Credentials.get()},o.prototype.verifyUserAttribute=function(e,n,t){return void 0===t&&(t=this._config.clientMetadata),new Promise(function(r,i){e.getAttributeVerificationCode(n,{onSuccess:function(u){return r(u)},onFailure:function(u){return i(u)}},t)})},o.prototype.verifyUserAttributeSubmit=function(e,n,t){return t?new Promise(function(r,i){e.verifyAttribute(n,t,{onSuccess:function(u){r(u)},onFailure:function(u){i(u)}})}):this.rejectAuthError(A.EmptyCode)},o.prototype.verifyCurrentUserAttribute=function(e){var n=this;return n.currentUserPoolUser().then(function(t){return n.verifyUserAttribute(t,e)})},o.prototype.verifyCurrentUserAttributeSubmit=function(e,n){var t=this;return t.currentUserPoolUser().then(function(r){return t.verifyUserAttributeSubmit(r,e,n)})},o.prototype.cognitoIdentitySignOut=function(e,n){return ne(this,void 0,void 0,function(){var t,r,i=this;return re(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this._storageSync];case 1:return u.sent(),[3,3];case 2:throw t=u.sent(),U.debug("Failed to sync cache info into memory",t),t;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(c,d){e&&e.global?(U.debug("user global sign out",n),n.getSession(function(g,m){return ne(i,void 0,void 0,function(){var y,P=this;return re(this,function(D){switch(D.label){case 0:if(!g)return[3,5];if(U.debug("failed to get the user session",g),!this.isSessionInvalid(g))return[3,4];D.label=1;case 1:return D.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return D.sent(),[3,4];case 3:return y=D.sent(),d(new Error("Session is invalid due to: "+g.message+" and failed to clean up invalid session: "+y.message)),[2];case 4:return[2,d(g)];case 5:return n.globalSignOut({onSuccess:function(N){if(U.debug("global sign out success"),!r)return c();P.oAuthSignOutRedirect(c,d)},onFailure:function(N){return U.debug("global sign out failed",N),d(N)}}),[2]}})})},{clientMetadata:i._config.clientMetadata})):(U.debug("user sign out",n),n.signOut(function(){if(!r)return c();i.oAuthSignOutRedirect(c,d)}))})]}})})},o.prototype.oAuthSignOutRedirect=function(e,n){(0,R.lC)().isBrowser?this.oAuthSignOutRedirectOrReject(n):this.oAuthSignOutAndResolve(e)},o.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},o.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout(function(){return e(Error("Signout timeout fail"))},3e3)},o.prototype.signOut=function(e){return ne(this,void 0,void 0,function(){var t;return re(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return r.sent(),[3,3];case 2:return r.sent(),U.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return r.sent(),[3,6];case 5:U.debug("no current Cognito user"),r.label=6;case 6:return[3,8];case 7:U.debug("no Cognito User pool"),r.label=8;case 8:return $("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},o.prototype.cleanCachedItems=function(){return ne(this,void 0,void 0,function(){return re(this,function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}})})},o.prototype.changePassword=function(e,n,t,r){var i=this;return void 0===r&&(r=this._config.clientMetadata),new Promise(function(u,c){i.userSession(e).then(function(d){e.changePassword(n,t,function(h,g){return h?(U.debug("change password failure",h),c(h)):u(g)},r)})})},o.prototype.forgotPassword=function(e,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(A.EmptyUsername);var t=this.createCognitoUser(e);return new Promise(function(r,i){t.forgotPassword({onSuccess:function(){r()},onFailure:function(u){U.debug("forgot password failure",u),$("forgotPassword_failure",u,e+" forgotPassword failed"),i(u)},inputVerificationCode:function(u){$("forgotPassword",t,e+" has initiated forgot password flow"),r(u)}},n)})},o.prototype.forgotPasswordSubmit=function(e,n,t,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(A.EmptyUsername);if(!n)return this.rejectAuthError(A.EmptyCode);if(!t)return this.rejectAuthError(A.EmptyPassword);var i=this.createCognitoUser(e);return new Promise(function(u,c){i.confirmPassword(n,t,{onSuccess:function(d){$("forgotPasswordSubmit",i,e+" forgotPasswordSubmit successful"),u(d)},onFailure:function(d){$("forgotPasswordSubmit_failure",d,e+" forgotPasswordSubmit failed"),c(d)}},r)})},o.prototype.currentUserInfo=function(){return ne(this,void 0,void 0,function(){var e,n,t,r,i,c,d;return re(this,function(h){switch(h.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch(function(g){return U.error(g)})];case 1:if(!(d=h.sent()))return[2,null];h.label=2;case 2:return h.trys.push([2,8,,9]),[4,this.userAttributes(d)];case 3:n=h.sent(),t=this.attributesToObject(n),r=null,h.label=4;case 4:return h.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=h.sent(),[3,7];case 6:return i=h.sent(),U.debug("Failed to retrieve credentials while getting current user info",i),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:d.getUsername(),attributes:t}];case 8:return c=h.sent(),U.error("currentUserInfo error",c),[2,{}];case 9:return"federated"===e?[2,(d=this.user)||{}]:[2]}})})},o.prototype.federatedSignIn=function(e,n,t){return ne(this,void 0,void 0,function(){var r,i,u,c,d,h,P,D;return re(this,function(N){switch(N.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(typeof e>"u"&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return W(e)||function q(o){return o&&!!["customProvider"].find(function(n){return o.hasOwnProperty(n)})}(e)||function K(o){return o&&!!["customState"].find(function(n){return o.hasOwnProperty(n)})}(e)||typeof e>"u"?(d=W(r=e||{provider:F.Cognito})?r.provider:r.customProvider,W(r),i=r.customState,this._config.userPoolId&&(u=Y(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,c=Y(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,c,u,d,i)),[3,4]):[3,1];case 1:d=e;try{(h=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&U.warn("There is already a signed in user: "+h+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch{}return[4,this.Credentials.set({provider:d,token:n.token,identity_id:n.identity_id,user:t,expires_at:n.expires_at},"federation")];case 2:return P=N.sent(),[4,this.currentAuthenticatedUser()];case 3:return D=N.sent(),$("signIn",D,"A user "+D.username+" has been signed in"),U.debug("federated sign in credentials",P),[2,P];case 4:return[2]}})})},o.prototype._handleAuthResponse=function(e){return ne(this,void 0,void 0,function(){var n,t,r,i,u,d,h,g,m,y,P,D,N;return re(this,function(H){switch(H.label){case 0:if(this.oAuthFlowInProgress)return U.debug("Skipping URL "+e+" current flow in progress"),[2];H.label=1;case 1:if(H.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if($("parsingCallbackUrl",{url:e},"The callback url is being parsed"),n=e||((0,R.lC)().isBrowser?window.location.href:""),t=!!((0,Fe.parse)(n).query||"").split("&").map(function(k){return k.split("=")}).find(function(k){var ee=Kt(k,1)[0];return"code"===ee||"error"===ee}),r=!!((0,Fe.parse)(n).hash||"#").substr(1).split("&").map(function(k){return k.split("=")}).find(function(k){var ee=Kt(k,1)[0];return"access_token"===ee||"error"===ee}),!t&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),H.label=2;case 2:return H.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(n)];case 3:return i=H.sent(),u=i.accessToken,d=i.refreshToken,h=i.state,g=new Tt({IdToken:new Ut({IdToken:i.idToken}),RefreshToken:new It({RefreshToken:d}),AccessToken:new At({AccessToken:u})}),m=void 0,this._config.identityPoolId?[4,this.Credentials.set(g,"session")]:[3,5];case 4:m=H.sent(),U.debug("AWS credentials",m),H.label=5;case 5:return y=/-/.test(h),(P=this.createCognitoUser(g.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(g),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),$("signIn",P,"A user "+P.getUsername()+" has been signed in"),$("cognitoHostedUI",P,"A user "+P.getUsername()+" has been signed in via Cognito Hosted UI"),y&&(D=h.split("-").splice(1).join("-"),$("customOAuthState",(0,j.q)(D),"State for user "+P.getUsername())),[2,m];case 6:return N=H.sent(),U.debug("Error in cognito hosted auth response",N),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),$("signIn_failure",N,"The OAuth response flow failed"),$("cognitoHostedUI_failure",N,"A failure occurred when returning to the Cognito Hosted UI"),$("customState_failure",N,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},o.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},o.prototype.attributesToObject=function(e){var n=this,t={};return e&&e.map(function(r){t[r.Name]="email_verified"===r.Name||"phone_number_verified"===r.Name?n.isTruthyString(r.Value)||!0===r.Value:r.Value}),t},o.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},o.prototype.createCognitoUser=function(e){var n={Username:e,Pool:this.userPool};n.Storage=this._storage;var t=this._config.authenticationFlowType,r=new it(n);return t&&r.setAuthenticationFlowType(t),r},o.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},o.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?A.NoConfig:A.MissingAuthConfig},o.prototype.rejectAuthError=function(e){return Promise.reject(new Re(e))},o.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new Nn(e))},o.prototype.rememberDevice=function(){return ne(this,void 0,void 0,function(){var e,n;return re(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=t.sent(),[3,3];case 2:return n=t.sent(),U.debug("The user is not authenticated by the error",n),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(r,i){e.setDeviceStatusRemembered({onSuccess:function(u){r(u)},onFailure:function(u){i("InvalidParameterException"===u.code?new Re(A.DeviceConfig):"NetworkError"===u.code?new Re(A.NetworkError):u)}})})]}})})},o.prototype.forgetDevice=function(){return ne(this,void 0,void 0,function(){var e,n;return re(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=t.sent(),[3,3];case 2:return n=t.sent(),U.debug("The user is not authenticated by the error",n),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(r,i){e.forgetDevice({onSuccess:function(u){r(u)},onFailure:function(u){i("InvalidParameterException"===u.code?new Re(A.DeviceConfig):"NetworkError"===u.code?new Re(A.NetworkError):u)}})})]}})})},o.prototype.fetchDevices=function(){return ne(this,void 0,void 0,function(){var e,n;return re(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=t.sent(),[3,3];case 2:throw n=t.sent(),U.debug("The user is not authenticated by the error",n),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(r,i){e.listDevices(60,null,{onSuccess:function(c){var d=c.Devices.map(function(h){var g=h.DeviceAttributes.find(function(y){return"device_name"===y.Name})||{};return{id:h.DeviceKey,name:g.Value}});r(d)},onFailure:function(c){i("InvalidParameterException"===c.code?new Re(A.DeviceConfig):"NetworkError"===c.code?new Re(A.NetworkError):c)}})})]}})})},o}(),bt=new Wn(null);z.dQ.register(bt);const Ln=bt},5343:(oe,Z)=>{"use strict";Z.byteLength=function x(E){var T=A(E),j=T[1];return 3*(T[0]+j)/4-j},Z.toByteArray=function O(E){var T,B,R=A(E),j=R[0],z=R[1],w=new W(function p(E,T,R){return 3*(T+R)/4-R}(0,j,z)),C=0,G=z>0?j-4:j;for(B=0;B<G;B+=4)T=F[E.charCodeAt(B)]<<18|F[E.charCodeAt(B+1)]<<12|F[E.charCodeAt(B+2)]<<6|F[E.charCodeAt(B+3)],w[C++]=T>>16&255,w[C++]=T>>8&255,w[C++]=255&T;return 2===z&&(T=F[E.charCodeAt(B)]<<2|F[E.charCodeAt(B+1)]>>4,w[C++]=255&T),1===z&&(T=F[E.charCodeAt(B)]<<10|F[E.charCodeAt(B+1)]<<4|F[E.charCodeAt(B+2)]>>2,w[C++]=T>>8&255,w[C++]=255&T),w},Z.fromByteArray=function M(E){for(var T,R=E.length,j=R%3,z=[],w=16383,C=0,G=R-j;C<G;C+=w)z.push(V(E,C,C+w>G?G:C+w));return 1===j?z.push(b[(T=E[R-1])>>2]+b[T<<4&63]+"=="):2===j&&z.push(b[(T=(E[R-2]<<8)+E[R-1])>>10]+b[T>>4&63]+b[T<<2&63]+"="),z.join("")};for(var b=[],F=[],W=typeof Uint8Array<"u"?Uint8Array:Array,q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K=0,Y=q.length;K<Y;++K)b[K]=q[K],F[q.charCodeAt(K)]=K;function A(E){var T=E.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=E.indexOf("=");return-1===R&&(R=T),[R,R===T?0:4-R%4]}function _(E){return b[E>>18&63]+b[E>>12&63]+b[E>>6&63]+b[63&E]}function V(E,T,R){for(var z=[],w=T;w<R;w+=3)z.push(_((E[w]<<16&16711680)+(E[w+1]<<8&65280)+(255&E[w+2])));return z.join("")}F["-".charCodeAt(0)]=62,F["_".charCodeAt(0)]=63},93172:(oe,Z,b)=>{"use strict";var W=b(5343),q=b(48461),K=b(66425);function A(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function x(f,s){if(A()<s)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(f=new Uint8Array(s)).__proto__=p.prototype:(null===f&&(f=new p(s)),f.length=s),f}function p(f,s,a){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(f,s,a);if("number"==typeof f){if("string"==typeof s)throw new Error("If encoding is specified then the first argument must be a string");return M(this,f)}return O(this,f,s,a)}function O(f,s,a,l){if("number"==typeof s)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer?function R(f,s,a,l){if(a<0||s.byteLength<a)throw new RangeError("'offset' is out of bounds");if(s.byteLength<a+(l||0))throw new RangeError("'length' is out of bounds");return s=void 0===a&&void 0===l?new Uint8Array(s):void 0===l?new Uint8Array(s,a):new Uint8Array(s,a,l),p.TYPED_ARRAY_SUPPORT?(f=s).__proto__=p.prototype:f=T(f,s),f}(f,s,a,l):"string"==typeof s?function E(f,s,a){if(("string"!=typeof a||""===a)&&(a="utf8"),!p.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var l=0|C(s,a),v=(f=x(f,l)).write(s,a);return v!==l&&(f=f.slice(0,v)),f}(f,s,a):function j(f,s){if(p.isBuffer(s)){var a=0|z(s.length);return 0===(f=x(f,a)).length||s.copy(f,0,0,a),f}if(s){if(typeof ArrayBuffer<"u"&&s.buffer instanceof ArrayBuffer||"length"in s)return"number"!=typeof s.length||function yt(f){return f!=f}(s.length)?x(f,0):T(f,s);if("Buffer"===s.type&&K(s.data))return T(f,s.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(f,s)}function _(f){if("number"!=typeof f)throw new TypeError('"size" argument must be a number');if(f<0)throw new RangeError('"size" argument must not be negative')}function M(f,s){if(_(s),f=x(f,s<0?0:0|z(s)),!p.TYPED_ARRAY_SUPPORT)for(var a=0;a<s;++a)f[a]=0;return f}function T(f,s){var a=s.length<0?0:0|z(s.length);f=x(f,a);for(var l=0;l<a;l+=1)f[l]=255&s[l];return f}function z(f){if(f>=A())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A().toString(16)+" bytes");return 0|f}function C(f,s){if(p.isBuffer(f))return f.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(f)||f instanceof ArrayBuffer))return f.byteLength;"string"!=typeof f&&(f=""+f);var a=f.length;if(0===a)return 0;for(var l=!1;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":case void 0:return Ve(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return tt(f).length;default:if(l)return Ve(f).length;s=(""+s).toLowerCase(),l=!0}}function G(f,s,a){var l=!1;if((void 0===s||s<0)&&(s=0),s>this.length||((void 0===a||a>this.length)&&(a=this.length),a<=0)||(a>>>=0)<=(s>>>=0))return"";for(f||(f="utf8");;)switch(f){case"hex":return Qe(this,s,a);case"utf8":case"utf-8":return ue(this,s,a);case"ascii":return Te(this,s,a);case"latin1":case"binary":return dt(this,s,a);case"base64":return Je(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gt(this,s,a);default:if(l)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),l=!0}}function B(f,s,a){var l=f[s];f[s]=f[a],f[a]=l}function ae(f,s,a,l,v){if(0===f.length)return-1;if("string"==typeof a?(l=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,isNaN(a)&&(a=v?0:f.length-1),a<0&&(a=f.length+a),a>=f.length){if(v)return-1;a=f.length-1}else if(a<0){if(!v)return-1;a=0}if("string"==typeof s&&(s=p.from(s,l)),p.isBuffer(s))return 0===s.length?-1:Q(f,s,a,l,v);if("number"==typeof s)return s&=255,p.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?v?Uint8Array.prototype.indexOf.call(f,s,a):Uint8Array.prototype.lastIndexOf.call(f,s,a):Q(f,[s],a,l,v);throw new TypeError("val must be string, number or Buffer")}function Q(f,s,a,l,v){var se,S=1,I=f.length,X=s.length;if(void 0!==l&&("ucs2"===(l=String(l).toLowerCase())||"ucs-2"===l||"utf16le"===l||"utf-16le"===l)){if(f.length<2||s.length<2)return-1;S=2,I/=2,X/=2,a/=2}function te(nt,rt){return 1===S?nt[rt]:nt.readUInt16BE(rt*S)}if(v){var pe=-1;for(se=a;se<I;se++)if(te(f,se)===te(s,-1===pe?0:se-pe)){if(-1===pe&&(pe=se),se-pe+1===X)return pe*S}else-1!==pe&&(se-=se-pe),pe=-1}else for(a+X>I&&(a=I-X),se=a;se>=0;se--){for(var ce=!0,Le=0;Le<X;Le++)if(te(f,se+Le)!==te(s,Le)){ce=!1;break}if(ce)return se}return-1}function Ae(f,s,a,l){a=Number(a)||0;var v=f.length-a;l?(l=Number(l))>v&&(l=v):l=v;var S=s.length;if(S%2!=0)throw new TypeError("Invalid hex string");l>S/2&&(l=S/2);for(var I=0;I<l;++I){var X=parseInt(s.substr(2*I,2),16);if(isNaN(X))return I;f[a+I]=X}return I}function ye(f,s,a,l){return We(Ve(s,f.length-a),f,a,l)}function ge(f,s,a,l){return We(function ze(f){for(var s=[],a=0;a<f.length;++a)s.push(255&f.charCodeAt(a));return s}(s),f,a,l)}function he(f,s,a,l){return ge(f,s,a,l)}function _e(f,s,a,l){return We(tt(s),f,a,l)}function Ge(f,s,a,l){return We(function mt(f,s){for(var a,l,S=[],I=0;I<f.length&&!((s-=2)<0);++I)l=(a=f.charCodeAt(I))>>8,S.push(a%256),S.push(l);return S}(s,f.length-a),f,a,l)}function Je(f,s,a){return W.fromByteArray(0===s&&a===f.length?f:f.slice(s,a))}function ue(f,s,a){a=Math.min(f.length,a);for(var l=[],v=s;v<a;){var te,se,pe,ce,S=f[v],I=null,X=S>239?4:S>223?3:S>191?2:1;if(v+X<=a)switch(X){case 1:S<128&&(I=S);break;case 2:128==(192&(te=f[v+1]))&&(ce=(31&S)<<6|63&te)>127&&(I=ce);break;case 3:se=f[v+2],128==(192&(te=f[v+1]))&&128==(192&se)&&(ce=(15&S)<<12|(63&te)<<6|63&se)>2047&&(ce<55296||ce>57343)&&(I=ce);break;case 4:se=f[v+2],pe=f[v+3],128==(192&(te=f[v+1]))&&128==(192&se)&&128==(192&pe)&&(ce=(15&S)<<18|(63&te)<<12|(63&se)<<6|63&pe)>65535&&ce<1114112&&(I=ce)}null===I?(I=65533,X=1):I>65535&&(l.push((I-=65536)>>>10&1023|55296),I=56320|1023&I),l.push(I),v+=X}return function le(f){var s=f.length;if(s<=L)return String.fromCharCode.apply(String,f);for(var a="",l=0;l<s;)a+=String.fromCharCode.apply(String,f.slice(l,l+=L));return a}(l)}Z.lW=p,Z.h2=50,p.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function Y(){try{var f=new Uint8Array(1);return f.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===f.foo()&&"function"==typeof f.subarray&&0===f.subarray(1,1).byteLength}catch{return!1}}(),A(),p.poolSize=8192,p._augment=function(f){return f.__proto__=p.prototype,f},p.from=function(f,s,a){return O(null,f,s,a)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(f,s,a){return function V(f,s,a,l){return _(s),s<=0?x(f,s):void 0!==a?"string"==typeof l?x(f,s).fill(a,l):x(f,s).fill(a):x(f,s)}(null,f,s,a)},p.allocUnsafe=function(f){return M(null,f)},p.allocUnsafeSlow=function(f){return M(null,f)},p.isBuffer=function(s){return!(null==s||!s._isBuffer)},p.compare=function(s,a){if(!p.isBuffer(s)||!p.isBuffer(a))throw new TypeError("Arguments must be Buffers");if(s===a)return 0;for(var l=s.length,v=a.length,S=0,I=Math.min(l,v);S<I;++S)if(s[S]!==a[S]){l=s[S],v=a[S];break}return l<v?-1:v<l?1:0},p.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(s,a){if(!K(s))throw new TypeError('"list" argument must be an Array of Buffers');if(0===s.length)return p.alloc(0);var l;if(void 0===a)for(a=0,l=0;l<s.length;++l)a+=s[l].length;var v=p.allocUnsafe(a),S=0;for(l=0;l<s.length;++l){var I=s[l];if(!p.isBuffer(I))throw new TypeError('"list" argument must be an Array of Buffers');I.copy(v,S),S+=I.length}return v},p.byteLength=C,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var s=this.length;if(s%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<s;a+=2)B(this,a,a+1);return this},p.prototype.swap32=function(){var s=this.length;if(s%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<s;a+=4)B(this,a,a+3),B(this,a+1,a+2);return this},p.prototype.swap64=function(){var s=this.length;if(s%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<s;a+=8)B(this,a,a+7),B(this,a+1,a+6),B(this,a+2,a+5),B(this,a+3,a+4);return this},p.prototype.toString=function(){var s=0|this.length;return 0===s?"":0===arguments.length?ue(this,0,s):G.apply(this,arguments)},p.prototype.equals=function(s){if(!p.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s||0===p.compare(this,s)},p.prototype.inspect=function(){var s="",a=Z.h2;return this.length>0&&(s=this.toString("hex",0,a).match(/.{2}/g).join(" "),this.length>a&&(s+=" ... ")),"<Buffer "+s+">"},p.prototype.compare=function(s,a,l,v,S){if(!p.isBuffer(s))throw new TypeError("Argument must be a Buffer");if(void 0===a&&(a=0),void 0===l&&(l=s?s.length:0),void 0===v&&(v=0),void 0===S&&(S=this.length),a<0||l>s.length||v<0||S>this.length)throw new RangeError("out of range index");if(v>=S&&a>=l)return 0;if(v>=S)return-1;if(a>=l)return 1;if(this===s)return 0;for(var I=(S>>>=0)-(v>>>=0),X=(l>>>=0)-(a>>>=0),te=Math.min(I,X),se=this.slice(v,S),pe=s.slice(a,l),ce=0;ce<te;++ce)if(se[ce]!==pe[ce]){I=se[ce],X=pe[ce];break}return I<X?-1:X<I?1:0},p.prototype.includes=function(s,a,l){return-1!==this.indexOf(s,a,l)},p.prototype.indexOf=function(s,a,l){return ae(this,s,a,l,!0)},p.prototype.lastIndexOf=function(s,a,l){return ae(this,s,a,l,!1)},p.prototype.write=function(s,a,l,v){if(void 0===a)v="utf8",l=this.length,a=0;else if(void 0===l&&"string"==typeof a)v=a,l=this.length,a=0;else{if(!isFinite(a))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");a|=0,isFinite(l)?(l|=0,void 0===v&&(v="utf8")):(v=l,l=void 0)}var S=this.length-a;if((void 0===l||l>S)&&(l=S),s.length>0&&(l<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");for(var I=!1;;)switch(v){case"hex":return Ae(this,s,a,l);case"utf8":case"utf-8":return ye(this,s,a,l);case"ascii":return ge(this,s,a,l);case"latin1":case"binary":return he(this,s,a,l);case"base64":return _e(this,s,a,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ge(this,s,a,l);default:if(I)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase(),I=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function Te(f,s,a){var l="";a=Math.min(f.length,a);for(var v=s;v<a;++v)l+=String.fromCharCode(127&f[v]);return l}function dt(f,s,a){var l="";a=Math.min(f.length,a);for(var v=s;v<a;++v)l+=String.fromCharCode(f[v]);return l}function Qe(f,s,a){var l=f.length;(!s||s<0)&&(s=0),(!a||a<0||a>l)&&(a=l);for(var v="",S=s;S<a;++S)v+=vt(f[S]);return v}function gt(f,s,a){for(var l=f.slice(s,a),v="",S=0;S<l.length;S+=2)v+=String.fromCharCode(l[S]+256*l[S+1]);return v}function fe(f,s,a){if(f%1!=0||f<0)throw new RangeError("offset is not uint");if(f+s>a)throw new RangeError("Trying to access beyond buffer length")}function we(f,s,a,l,v,S){if(!p.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>v||s<S)throw new RangeError('"value" argument is out of bounds');if(a+l>f.length)throw new RangeError("Index out of range")}function xe(f,s,a,l){s<0&&(s=65535+s+1);for(var v=0,S=Math.min(f.length-a,2);v<S;++v)f[a+v]=(s&255<<8*(l?v:1-v))>>>8*(l?v:1-v)}function be(f,s,a,l){s<0&&(s=4294967295+s+1);for(var v=0,S=Math.min(f.length-a,4);v<S;++v)f[a+v]=s>>>8*(l?v:3-v)&255}function $e(f,s,a,l,v,S){if(a+l>f.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function Me(f,s,a,l,v){return v||$e(f,0,a,4),q.write(f,s,a,l,23,4),a+4}function Pe(f,s,a,l,v){return v||$e(f,0,a,8),q.write(f,s,a,l,52,8),a+8}p.prototype.slice=function(s,a){var v,l=this.length;if((s=~~s)<0?(s+=l)<0&&(s=0):s>l&&(s=l),(a=void 0===a?l:~~a)<0?(a+=l)<0&&(a=0):a>l&&(a=l),a<s&&(a=s),p.TYPED_ARRAY_SUPPORT)(v=this.subarray(s,a)).__proto__=p.prototype;else{var S=a-s;v=new p(S,void 0);for(var I=0;I<S;++I)v[I]=this[I+s]}return v},p.prototype.readUIntLE=function(s,a,l){s|=0,a|=0,l||fe(s,a,this.length);for(var v=this[s],S=1,I=0;++I<a&&(S*=256);)v+=this[s+I]*S;return v},p.prototype.readUIntBE=function(s,a,l){s|=0,a|=0,l||fe(s,a,this.length);for(var v=this[s+--a],S=1;a>0&&(S*=256);)v+=this[s+--a]*S;return v},p.prototype.readUInt8=function(s,a){return a||fe(s,1,this.length),this[s]},p.prototype.readUInt16LE=function(s,a){return a||fe(s,2,this.length),this[s]|this[s+1]<<8},p.prototype.readUInt16BE=function(s,a){return a||fe(s,2,this.length),this[s]<<8|this[s+1]},p.prototype.readUInt32LE=function(s,a){return a||fe(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+16777216*this[s+3]},p.prototype.readUInt32BE=function(s,a){return a||fe(s,4,this.length),16777216*this[s]+(this[s+1]<<16|this[s+2]<<8|this[s+3])},p.prototype.readIntLE=function(s,a,l){s|=0,a|=0,l||fe(s,a,this.length);for(var v=this[s],S=1,I=0;++I<a&&(S*=256);)v+=this[s+I]*S;return v>=(S*=128)&&(v-=Math.pow(2,8*a)),v},p.prototype.readIntBE=function(s,a,l){s|=0,a|=0,l||fe(s,a,this.length);for(var v=a,S=1,I=this[s+--v];v>0&&(S*=256);)I+=this[s+--v]*S;return I>=(S*=128)&&(I-=Math.pow(2,8*a)),I},p.prototype.readInt8=function(s,a){return a||fe(s,1,this.length),128&this[s]?-1*(255-this[s]+1):this[s]},p.prototype.readInt16LE=function(s,a){a||fe(s,2,this.length);var l=this[s]|this[s+1]<<8;return 32768&l?4294901760|l:l},p.prototype.readInt16BE=function(s,a){a||fe(s,2,this.length);var l=this[s+1]|this[s]<<8;return 32768&l?4294901760|l:l},p.prototype.readInt32LE=function(s,a){return a||fe(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},p.prototype.readInt32BE=function(s,a){return a||fe(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},p.prototype.readFloatLE=function(s,a){return a||fe(s,4,this.length),q.read(this,s,!0,23,4)},p.prototype.readFloatBE=function(s,a){return a||fe(s,4,this.length),q.read(this,s,!1,23,4)},p.prototype.readDoubleLE=function(s,a){return a||fe(s,8,this.length),q.read(this,s,!0,52,8)},p.prototype.readDoubleBE=function(s,a){return a||fe(s,8,this.length),q.read(this,s,!1,52,8)},p.prototype.writeUIntLE=function(s,a,l,v){s=+s,a|=0,l|=0,v||we(this,s,a,l,Math.pow(2,8*l)-1,0);var I=1,X=0;for(this[a]=255&s;++X<l&&(I*=256);)this[a+X]=s/I&255;return a+l},p.prototype.writeUIntBE=function(s,a,l,v){s=+s,a|=0,l|=0,v||we(this,s,a,l,Math.pow(2,8*l)-1,0);var I=l-1,X=1;for(this[a+I]=255&s;--I>=0&&(X*=256);)this[a+I]=s/X&255;return a+l},p.prototype.writeUInt8=function(s,a,l){return s=+s,a|=0,l||we(this,s,a,1,255,0),p.TYPED_ARRAY_SUPPORT||(s=Math.floor(s)),this[a]=255&s,a+1},p.prototype.writeUInt16LE=function(s,a,l){return s=+s,a|=0,l||we(this,s,a,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8):xe(this,s,a,!0),a+2},p.prototype.writeUInt16BE=function(s,a,l){return s=+s,a|=0,l||we(this,s,a,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[a]=s>>>8,this[a+1]=255&s):xe(this,s,a,!1),a+2},p.prototype.writeUInt32LE=function(s,a,l){return s=+s,a|=0,l||we(this,s,a,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=255&s):be(this,s,a,!0),a+4},p.prototype.writeUInt32BE=function(s,a,l){return s=+s,a|=0,l||we(this,s,a,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=255&s):be(this,s,a,!1),a+4},p.prototype.writeIntLE=function(s,a,l,v){if(s=+s,a|=0,!v){var S=Math.pow(2,8*l-1);we(this,s,a,l,S-1,-S)}var I=0,X=1,te=0;for(this[a]=255&s;++I<l&&(X*=256);)s<0&&0===te&&0!==this[a+I-1]&&(te=1),this[a+I]=(s/X>>0)-te&255;return a+l},p.prototype.writeIntBE=function(s,a,l,v){if(s=+s,a|=0,!v){var S=Math.pow(2,8*l-1);we(this,s,a,l,S-1,-S)}var I=l-1,X=1,te=0;for(this[a+I]=255&s;--I>=0&&(X*=256);)s<0&&0===te&&0!==this[a+I+1]&&(te=1),this[a+I]=(s/X>>0)-te&255;return a+l},p.prototype.writeInt8=function(s,a,l){return s=+s,a|=0,l||we(this,s,a,1,127,-128),p.TYPED_ARRAY_SUPPORT||(s=Math.floor(s)),s<0&&(s=255+s+1),this[a]=255&s,a+1},p.prototype.writeInt16LE=function(s,a,l){return s=+s,a|=0,l||we(this,s,a,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8):xe(this,s,a,!0),a+2},p.prototype.writeInt16BE=function(s,a,l){return s=+s,a|=0,l||we(this,s,a,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[a]=s>>>8,this[a+1]=255&s):xe(this,s,a,!1),a+2},p.prototype.writeInt32LE=function(s,a,l){return s=+s,a|=0,l||we(this,s,a,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24):be(this,s,a,!0),a+4},p.prototype.writeInt32BE=function(s,a,l){return s=+s,a|=0,l||we(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),p.TYPED_ARRAY_SUPPORT?(this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=255&s):be(this,s,a,!1),a+4},p.prototype.writeFloatLE=function(s,a,l){return Me(this,s,a,!0,l)},p.prototype.writeFloatBE=function(s,a,l){return Me(this,s,a,!1,l)},p.prototype.writeDoubleLE=function(s,a,l){return Pe(this,s,a,!0,l)},p.prototype.writeDoubleBE=function(s,a,l){return Pe(this,s,a,!1,l)},p.prototype.copy=function(s,a,l,v){if(l||(l=0),!v&&0!==v&&(v=this.length),a>=s.length&&(a=s.length),a||(a=0),v>0&&v<l&&(v=l),v===l||0===s.length||0===this.length)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("sourceStart out of bounds");if(v<0)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length),s.length-a<v-l&&(v=s.length-a+l);var I,S=v-l;if(this===s&&l<a&&a<v)for(I=S-1;I>=0;--I)s[I+a]=this[I+l];else if(S<1e3||!p.TYPED_ARRAY_SUPPORT)for(I=0;I<S;++I)s[I+a]=this[I+l];else Uint8Array.prototype.set.call(s,this.subarray(l,l+S),a);return S},p.prototype.fill=function(s,a,l,v){if("string"==typeof s){if("string"==typeof a?(v=a,a=0,l=this.length):"string"==typeof l&&(v=l,l=this.length),1===s.length){var S=s.charCodeAt(0);S<256&&(s=S)}if(void 0!==v&&"string"!=typeof v)throw new TypeError("encoding must be a string");if("string"==typeof v&&!p.isEncoding(v))throw new TypeError("Unknown encoding: "+v)}else"number"==typeof s&&(s&=255);if(a<0||this.length<a||this.length<l)throw new RangeError("Out of range index");if(l<=a)return this;var I;if(a>>>=0,l=void 0===l?this.length:l>>>0,s||(s=0),"number"==typeof s)for(I=a;I<l;++I)this[I]=s;else{var X=p.isBuffer(s)?s:Ve(new p(s,v).toString()),te=X.length;for(I=0;I<l-a;++I)this[I+a]=X[I%te]}return this};var Ce=/[^+\/0-9A-Za-z-_]/g;function vt(f){return f<16?"0"+f.toString(16):f.toString(16)}function Ve(f,s){s=s||1/0;for(var a,l=f.length,v=null,S=[],I=0;I<l;++I){if((a=f.charCodeAt(I))>55295&&a<57344){if(!v){if(a>56319){(s-=3)>-1&&S.push(239,191,189);continue}if(I+1===l){(s-=3)>-1&&S.push(239,191,189);continue}v=a;continue}if(a<56320){(s-=3)>-1&&S.push(239,191,189),v=a;continue}a=65536+(v-55296<<10|a-56320)}else v&&(s-=3)>-1&&S.push(239,191,189);if(v=null,a<128){if((s-=1)<0)break;S.push(a)}else if(a<2048){if((s-=2)<0)break;S.push(a>>6|192,63&a|128)}else if(a<65536){if((s-=3)<0)break;S.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(a<1114112))throw new Error("Invalid code point");if((s-=4)<0)break;S.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return S}function tt(f){return W.toByteArray(function et(f){if((f=function pt(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}(f).replace(Ce,"")).length<2)return"";for(;f.length%4!=0;)f+="=";return f}(f))}function We(f,s,a,l){for(var v=0;v<l&&!(v+a>=s.length||v>=f.length);++v)s[v+a]=f[v];return v}},67585:function(oe,Z,b){var F;oe.exports=(F=F||function(W,q){var K;if(typeof window<"u"&&window.crypto&&(K=window.crypto),typeof self<"u"&&self.crypto&&(K=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(K=globalThis.crypto),!K&&typeof window<"u"&&window.msCrypto&&(K=window.msCrypto),!K&&typeof global<"u"&&global.crypto&&(K=global.crypto),!K)try{K=b(42480)}catch{}var Y=function(){if(K){if("function"==typeof K.getRandomValues)try{return K.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof K.randomBytes)try{return K.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},A=Object.create||function(){function w(){}return function(C){var G;return w.prototype=C,G=new w,w.prototype=null,G}}(),x={},p=x.lib={},O=p.Base={extend:function(w){var C=A(this);return w&&C.mixIn(w),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var C in w)w.hasOwnProperty(C)&&(this[C]=w[C]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}},_=p.WordArray=O.extend({init:function(w,C){w=this.words=w||[],this.sigBytes=null!=C?C:4*w.length},toString:function(w){return(w||M).stringify(this)},concat:function(w){var C=this.words,G=w.words,B=this.sigBytes,ae=w.sigBytes;if(this.clamp(),B%4)for(var Q=0;Q<ae;Q++)C[B+Q>>>2]|=(G[Q>>>2]>>>24-Q%4*8&255)<<24-(B+Q)%4*8;else for(var ye=0;ye<ae;ye+=4)C[B+ye>>>2]=G[ye>>>2];return this.sigBytes+=ae,this},clamp:function(){var w=this.words,C=this.sigBytes;w[C>>>2]&=4294967295<<32-C%4*8,w.length=W.ceil(C/4)},clone:function(){var w=O.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var C=[],G=0;G<w;G+=4)C.push(Y());return new _.init(C,w)}}),V=x.enc={},M=V.Hex={stringify:function(w){for(var C=w.words,G=w.sigBytes,B=[],ae=0;ae<G;ae++){var Q=C[ae>>>2]>>>24-ae%4*8&255;B.push((Q>>>4).toString(16)),B.push((15&Q).toString(16))}return B.join("")},parse:function(w){for(var C=w.length,G=[],B=0;B<C;B+=2)G[B>>>3]|=parseInt(w.substr(B,2),16)<<24-B%8*4;return new _.init(G,C/2)}},E=V.Latin1={stringify:function(w){for(var C=w.words,G=w.sigBytes,B=[],ae=0;ae<G;ae++)B.push(String.fromCharCode(C[ae>>>2]>>>24-ae%4*8&255));return B.join("")},parse:function(w){for(var C=w.length,G=[],B=0;B<C;B++)G[B>>>2]|=(255&w.charCodeAt(B))<<24-B%4*8;return new _.init(G,C)}},T=V.Utf8={stringify:function(w){try{return decodeURIComponent(escape(E.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return E.parse(unescape(encodeURIComponent(w)))}},R=p.BufferedBlockAlgorithm=O.extend({reset:function(){this._data=new _.init,this._nDataBytes=0},_append:function(w){"string"==typeof w&&(w=T.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var C,G=this._data,B=G.words,ae=G.sigBytes,Q=this.blockSize,ye=ae/(4*Q),ge=(ye=w?W.ceil(ye):W.max((0|ye)-this._minBufferSize,0))*Q,he=W.min(4*ge,ae);if(ge){for(var _e=0;_e<ge;_e+=Q)this._doProcessBlock(B,_e);C=B.splice(0,ge),G.sigBytes-=he}return new _.init(C,he)},clone:function(){var w=O.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0}),z=(p.Hasher=R.extend({cfg:O.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){R.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){return w&&this._append(w),this._doFinalize()},blockSize:16,_createHelper:function(w){return function(C,G){return new w.init(G).finalize(C)}},_createHmacHelper:function(w){return function(C,G){return new z.HMAC.init(w,G).finalize(C)}}}),x.algo={});return x}(Math),F)},58319:function(oe,Z,b){var F,K;oe.exports=(F=b(67585),K=F.lib.WordArray,F.enc.Base64={stringify:function(p){var O=p.words,_=p.sigBytes,V=this._map;p.clamp();for(var M=[],E=0;E<_;E+=3)for(var z=(O[E>>>2]>>>24-E%4*8&255)<<16|(O[E+1>>>2]>>>24-(E+1)%4*8&255)<<8|O[E+2>>>2]>>>24-(E+2)%4*8&255,w=0;w<4&&E+.75*w<_;w++)M.push(V.charAt(z>>>6*(3-w)&63));var C=V.charAt(64);if(C)for(;M.length%4;)M.push(C);return M.join("")},parse:function(p){var O=p.length,_=this._map,V=this._reverseMap;if(!V){V=this._reverseMap=[];for(var M=0;M<_.length;M++)V[_.charCodeAt(M)]=M}var E=_.charAt(64);if(E){var T=p.indexOf(E);-1!==T&&(O=T)}return function x(p,O,_){for(var V=[],M=0,E=0;E<O;E++)if(E%4){var T=_[p.charCodeAt(E-1)]<<E%4*2,R=_[p.charCodeAt(E)]>>>6-E%4*2;V[M>>>2]|=(T|R)<<24-M%4*8,M++}return K.create(V,M)}(p,O,V)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},F.enc.Base64)},96135:function(oe,Z,b){var F;oe.exports=(F=b(67585),b(31817),b(43764),F.HmacSHA256)},43764:function(oe,Z,b){var F,A;oe.exports=(F=b(67585),A=F.enc.Utf8,void(F.algo.HMAC=F.lib.Base.extend({init:function(O,_){O=this._hasher=new O.init,"string"==typeof _&&(_=A.parse(_));var V=O.blockSize,M=4*V;_.sigBytes>M&&(_=O.finalize(_)),_.clamp();for(var E=this._oKey=_.clone(),T=this._iKey=_.clone(),R=E.words,j=T.words,z=0;z<V;z++)R[z]^=1549556828,j[z]^=909522486;E.sigBytes=T.sigBytes=M,this.reset()},reset:function(){var O=this._hasher;O.reset(),O.update(this._iKey)},update:function(O){return this._hasher.update(O),this},finalize:function(O){var _=this._hasher,V=_.finalize(O);return _.reset(),_.finalize(this._oKey.clone().concat(V))}})))},27412:function(oe,Z,b){var F;oe.exports=(F=b(67585),function(){if("function"==typeof ArrayBuffer){var K=F.lib.WordArray,Y=K.init,A=K.init=function(x){if(x instanceof ArrayBuffer&&(x=new Uint8Array(x)),(x instanceof Int8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)&&(x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength)),x instanceof Uint8Array){for(var p=x.byteLength,O=[],_=0;_<p;_++)O[_>>>2]|=x[_]<<24-_%4*8;Y.call(this,O,p)}else Y.apply(this,arguments)};A.prototype=K}}(),F.lib.WordArray)},31817:function(oe,Z,b){var F;oe.exports=(F=b(67585),function(W){var q=F,K=q.lib,Y=K.WordArray,A=K.Hasher,x=q.algo,p=[],O=[];!function(){function M(j){for(var z=W.sqrt(j),w=2;w<=z;w++)if(!(j%w))return!1;return!0}function E(j){return 4294967296*(j-(0|j))|0}for(var T=2,R=0;R<64;)M(T)&&(R<8&&(p[R]=E(W.pow(T,.5))),O[R]=E(W.pow(T,1/3)),R++),T++}();var _=[],V=x.SHA256=A.extend({_doReset:function(){this._hash=new Y.init(p.slice(0))},_doProcessBlock:function(M,E){for(var T=this._hash.words,R=T[0],j=T[1],z=T[2],w=T[3],C=T[4],G=T[5],B=T[6],ae=T[7],Q=0;Q<64;Q++){if(Q<16)_[Q]=0|M[E+Q];else{var Ae=_[Q-15],ge=_[Q-2];_[Q]=((Ae<<25|Ae>>>7)^(Ae<<14|Ae>>>18)^Ae>>>3)+_[Q-7]+((ge<<15|ge>>>17)^(ge<<13|ge>>>19)^ge>>>10)+_[Q-16]}var Ge=R&j^R&z^j&z,L=ae+((C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25))+(C&G^~C&B)+O[Q]+_[Q];ae=B,B=G,G=C,C=w+L|0,w=z,z=j,j=R,R=L+(((R<<30|R>>>2)^(R<<19|R>>>13)^(R<<10|R>>>22))+Ge)|0}T[0]=T[0]+R|0,T[1]=T[1]+j|0,T[2]=T[2]+z|0,T[3]=T[3]+w|0,T[4]=T[4]+C|0,T[5]=T[5]+G|0,T[6]=T[6]+B|0,T[7]=T[7]+ae|0},_doFinalize:function(){var M=this._data,E=M.words,T=8*this._nDataBytes,R=8*M.sigBytes;return E[R>>>5]|=128<<24-R%32,E[14+(R+64>>>9<<4)]=W.floor(T/4294967296),E[15+(R+64>>>9<<4)]=T,M.sigBytes=4*E.length,this._process(),this._hash},clone:function(){var M=A.clone.call(this);return M._hash=this._hash.clone(),M}});q.SHA256=A._createHelper(V),q.HmacSHA256=A._createHmacHelper(V)}(Math),F.SHA256)},48461:(oe,Z)=>{Z.read=function(b,F,W,q,K){var Y,A,x=8*K-q-1,p=(1<<x)-1,O=p>>1,_=-7,V=W?K-1:0,M=W?-1:1,E=b[F+V];for(V+=M,Y=E&(1<<-_)-1,E>>=-_,_+=x;_>0;Y=256*Y+b[F+V],V+=M,_-=8);for(A=Y&(1<<-_)-1,Y>>=-_,_+=q;_>0;A=256*A+b[F+V],V+=M,_-=8);if(0===Y)Y=1-O;else{if(Y===p)return A?NaN:1/0*(E?-1:1);A+=Math.pow(2,q),Y-=O}return(E?-1:1)*A*Math.pow(2,Y-q)},Z.write=function(b,F,W,q,K,Y){var A,x,p,O=8*Y-K-1,_=(1<<O)-1,V=_>>1,M=23===K?Math.pow(2,-24)-Math.pow(2,-77):0,E=q?0:Y-1,T=q?1:-1,R=F<0||0===F&&1/F<0?1:0;for(F=Math.abs(F),isNaN(F)||F===1/0?(x=isNaN(F)?1:0,A=_):(A=Math.floor(Math.log(F)/Math.LN2),F*(p=Math.pow(2,-A))<1&&(A--,p*=2),(F+=A+V>=1?M/p:M*Math.pow(2,1-V))*p>=2&&(A++,p/=2),A+V>=_?(x=0,A=_):A+V>=1?(x=(F*p-1)*Math.pow(2,K),A+=V):(x=F*Math.pow(2,V-1)*Math.pow(2,K),A=0));K>=8;b[W+E]=255&x,E+=T,x/=256,K-=8);for(A=A<<K|x,O+=K;O>0;b[W+E]=255&A,E+=T,A/=256,O-=8);b[W+E-T]|=128*R}},66425:oe=>{var Z={}.toString;oe.exports=Array.isArray||function(b){return"[object Array]"==Z.call(b)}},33024:(oe,Z,b)=>{oe.exports=self.fetch||(self.fetch=b(75557).default||b(75557))},47355:(oe,Z,b)=>{var F,W,q;void 0!==(W="function"==typeof(F=q=function(){function q(){for(var A=0,x={};A<arguments.length;A++){var p=arguments[A];for(var O in p)x[O]=p[O]}return x}function K(A){return A.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function Y(A){function x(){}function p(_,V,M){if(!(typeof document>"u")){"number"==typeof(M=q({path:"/"},x.defaults,M)).expires&&(M.expires=new Date(1*new Date+864e5*M.expires)),M.expires=M.expires?M.expires.toUTCString():"";try{var E=JSON.stringify(V);/^[\{\[]/.test(E)&&(V=E)}catch{}V=A.write?A.write(V,_):encodeURIComponent(String(V)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),_=encodeURIComponent(String(_)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var T="";for(var R in M)M[R]&&(T+="; "+R,!0!==M[R]&&(T+="="+M[R].split(";")[0]));return document.cookie=_+"="+V+T}}function O(_,V){if(!(typeof document>"u")){for(var M={},E=document.cookie?document.cookie.split("; "):[],T=0;T<E.length;T++){var R=E[T].split("="),j=R.slice(1).join("=");!V&&'"'===j.charAt(0)&&(j=j.slice(1,-1));try{var z=K(R[0]);if(j=(A.read||A)(j,z)||K(j),V)try{j=JSON.parse(j)}catch{}if(M[z]=j,_===z)break}catch{}}return _?M[_]:M}}return x.set=p,x.get=function(_){return O(_,!1)},x.getJSON=function(_){return O(_,!0)},x.remove=function(_,V){p(_,"",q(V,{expires:-1}))},x.defaults={},x.withConverter=Y,x}(function(){})})?F.call(Z,b,Z,oe):F)&&(oe.exports=W),oe.exports=q()},75557:(oe,Z,b)=>{"use strict";function F(W,q){return q=q||{},new Promise(function(K,Y){var A=new XMLHttpRequest,x=[],p=[],O={},_=function(){return{ok:2==(A.status/100|0),statusText:A.statusText,status:A.status,url:A.responseURL,text:function(){return Promise.resolve(A.responseText)},json:function(){return Promise.resolve(A.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([A.response]))},clone:_,headers:{keys:function(){return x},entries:function(){return p},get:function(M){return O[M.toLowerCase()]},has:function(M){return M.toLowerCase()in O}}}};for(var V in A.open(q.method||"get",W,!0),A.onload=function(){A.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(M,E,T){x.push(E=E.toLowerCase()),p.push([E,T]),O[E]=O[E]?O[E]+","+T:T}),K(_())},A.onerror=Y,A.withCredentials="include"==q.credentials,q.headers)A.setRequestHeader(V,q.headers[V]);A.send(q.body||null)})}b.r(Z),b.d(Z,{default:()=>F})},56249:()=>{},42480:()=>{}}]);